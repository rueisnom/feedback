<?xml version="1.0" encoding="utf-8"?>
<xliff xmlns="urn:oasis:names:tc:xliff:document:1.2" version="1.2">
  <file source-language="en" target-language="zh-CN" datatype="htmlbody" original="https://stackoverflow.com/questions/28019793">
    <body>
      <group id="28019793">
        <trans-unit id="741696a0187adf8adc0a4d06661e7b70c77f6b35" translate="yes" xml:space="preserve">
          <source>&lt;strong&gt;Option 1&lt;/strong&gt;</source>
          <target state="translated">&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;选项1&lt;/font&gt;&lt;/font&gt;&lt;/strong&gt;</target>
        </trans-unit>
        <trans-unit id="ca4d34866b332b809e4e886d87a9ac3d746b8c72" translate="yes" xml:space="preserve">
          <source>&lt;strong&gt;Option 2&lt;/strong&gt;</source>
          <target state="translated">&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;选项2&lt;/font&gt;&lt;/font&gt;&lt;/strong&gt;</target>
        </trans-unit>
        <trans-unit id="e51e90b5126945cd61e1eca1bedee2edc834cb6f" translate="yes" xml:space="preserve">
          <source>And of course you need to change you POST method to accept a collection</source>
          <target state="translated">当然,你还需要改变你的POST方法来接受一个集合。</target>
        </trans-unit>
        <trans-unit id="fbe5e11d274f9c2ae5927c07c3f14f217892fc63" translate="yes" xml:space="preserve">
          <source>Finally, if you are using client side validation (jquery-validate-unobtrusive.js), then you need re-parse the validator each time you add new elements to the DOM as explained in &lt;a href=&quot;https://stackoverflow.com/questions/26542509/validate-dynamically-added-fields/26542591#26542591&quot;&gt;this answer&lt;/a&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;最后，如果您正在使用客户端验证（jquery-validate-unobtrusive.js），则每次将新元素添加到DOM时都需要重新解析验证器，如&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/questions/26542509/validate-dynamically-added-fields/26542591#26542591&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;本答案所述&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="088c110b368d18b2d34b522ade404d9539b0234d" translate="yes" xml:space="preserve">
          <source>I have added a button in my view. When this button is clicked partial view is added. In my form I can add as much partial view as I can. When Submitting this form data I am unable to send all the partial view data to controller. 
I have made a different model having all the attributes and I have made a list of that model to my main model. Can anyone please give me some trick so that I can send all the partial view content to my controller?</source>
          <target state="translated">我的视图中添加了一个按钮。当这个按钮被点击后,部分视图被添加。在我的表单中,我可以添加尽可能多的部分视图。当提交这个表单数据时,我无法将所有的部分视图数据发送给控制器。我做了一个不同的模型,它有所有的属性,我已经做了一个模型的列表到我的主模型。谁能给我一些小窍门,让我把所有的部分视图内容发送到我的控制器?</target>
        </trans-unit>
        <trans-unit id="97808654d59cf0170d91d6f04a935041a4f580f5" translate="yes" xml:space="preserve">
          <source>In My View</source>
          <target state="translated">在我看来</target>
        </trans-unit>
        <trans-unit id="82d8b7cd59f1d6fa60801b3a80c899a731545bee" translate="yes" xml:space="preserve">
          <source>In My controller</source>
          <target state="translated">在 &quot;我的控制器 &quot;中</target>
        </trans-unit>
        <trans-unit id="074ea2f226ffd197ba3adc8f472a539ca8b0c3dd" translate="yes" xml:space="preserve">
          <source>In my Partial View</source>
          <target state="translated">在我的部分视图中</target>
        </trans-unit>
        <trans-unit id="c61a4d2e8a4e61b36b5c0b620e225dcba8bbd48c" translate="yes" xml:space="preserve">
          <source>Manually create the html elements representing a new object with a 'fake' indexer, place them in a hidden container, then in the Add button event, clone the html, update the indexers and Index value and append the cloned elements to the DOM. To make sure the html is correct, create one default object in a &lt;code&gt;for&lt;/code&gt; loop and inspect the html it generates. An example of this approach is shown in &lt;a href=&quot;https://stackoverflow.com/questions/24026374/adding-another-pet-to-a-model-form/24027152#24027152&quot;&gt;this answer&lt;/a&gt;</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;使用&amp;ldquo;假&amp;rdquo;索引器手动创建代表新对象的html元素，将它们放置在隐藏的容器中，然后在&amp;ldquo;添加&amp;rdquo;按钮事件中克隆html，更新索引器和Index值，然后将克隆的元素附加到DOM。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;为确保html正确，请在&lt;/font&gt;&lt;/font&gt; &lt;code&gt;for&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;循环中&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;创建一个默认对象，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;然后检查它生成的html。&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/questions/24026374/adding-another-pet-to-a-model-form/24027152#24027152&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;此答案中&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;显示了此方法的一个示例&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="525f85f59477d960091da961eea7cf7e73b408a9" translate="yes" xml:space="preserve">
          <source>Note the use of a 'fake' indexer to prevent this one being bound on post back ('#' and '%' wont match up so they are ignored by the &lt;code&gt;DefaultModelBinder&lt;/code&gt;)</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;请注意，使用&amp;ldquo;假&amp;rdquo;索引器来防止此索引器回发绑定（&amp;ldquo;＃&amp;rdquo;和&amp;ldquo;％&amp;rdquo;将不匹配，因此&lt;/font&gt;&lt;/font&gt; &lt;code&gt;DefaultModelBinder&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;会忽略它们&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;）&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="4899489161c1634c59437b8a1953a0b514b7626b" translate="yes" xml:space="preserve">
          <source>Submit same Partial View called multiple times data to controller</source>
          <target state="translated">提交相同的部分视图多次调用数据给控制器</target>
        </trans-unit>
        <trans-unit id="e6f86bd527d5073d60eb5db916ed8a87d5e0ea62" translate="yes" xml:space="preserve">
          <source>The &lt;code&gt;DefaultModelBinder&lt;/code&gt; required that the indexer for collection items start at zero and be consecutive, or that the form values include a &lt;code&gt;Index=someValue&lt;/code&gt; where the indexer is &lt;code&gt;someValue&lt;/code&gt; (for example &lt;code&gt;&amp;lt;input name=&quot;[ABC].productTotalQuantity&quot; ..&amp;gt;&amp;lt;input name=&quot;Index&quot; value=&quot;ABC&quot;&amp;gt;&lt;/code&gt;. This is explained in detail in Phil Haack's article &lt;a href=&quot;http://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx/&quot;&gt;Model Binding To A List&lt;/a&gt;. Using the Index approach is generally better because it also allows you to delete items from the list (otherwise it would be necessary to rename all existing controls so the indexer is consecutive).</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;所述&lt;/font&gt;&lt;/font&gt; &lt;code&gt;DefaultModelBinder&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;要求用于集合项索引从零开始并且是连续的，或者说，表格值包括&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Index=someValue&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，其中该索引是&lt;/font&gt;&lt;/font&gt; &lt;code&gt;someValue&lt;/code&gt; 中&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;（例如&lt;/font&gt;&lt;/font&gt; &lt;code&gt;&amp;lt;input name=&quot;[ABC].productTotalQuantity&quot; ..&amp;gt;&amp;lt;input name=&quot;Index&quot; value=&quot;ABC&quot;&amp;gt;&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。这在Phil Haack的文章&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;http://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx/&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;Model Binding to A List&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;中有详细说明&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。使用Index方法通常更好，因为它还允许您从列表中删除项目（否则可以需要重命名所有现有控件，以便索引器是连续的）。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="44d626131859a667b3e17d6f9d4b9931609778bf" translate="yes" xml:space="preserve">
          <source>The advantage of option 1 is that you are strongly typing the view to your model, but it means making a call to the server each time you add a new item. The advantage of option 2 is that its all done client side, but if you make any changes to you model (e.g. add a validation attribute to a property) then you also need to manually update the html, making maintenance a bit harder.</source>
          <target state="translated">选项1的优点是,你可以将视图输入到模型中,但这意味着每次添加一个新的项目时都要调用服务器。选项2的好处是,它是在客户端完成的,但如果你对模型做了任何修改(例如,在属性中添加一个验证属性),那么你还需要手动更新html,这使得维护起来有点困难。</target>
        </trans-unit>
        <trans-unit id="015142018ace531708c2bab99fe13b0276603555" translate="yes" xml:space="preserve">
          <source>Two possible approaches to your issue.</source>
          <target state="translated">对于你的问题,有两种可能的方法。</target>
        </trans-unit>
        <trans-unit id="cc7eb29cbe0dd818e924a84eaf82e815f0940a6d" translate="yes" xml:space="preserve">
          <source>Use the &lt;a href=&quot;https://github.com/danludwig/BeginCollectionItem&quot;&gt;BeginItemCollection&lt;/a&gt; helper for your partial view. This helper will render a hidden input for the &lt;code&gt;Index&lt;/code&gt; value based on a GUID. You need this in both the partial view and the loop where you render existing items. Your partial would look something like</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;将&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://github.com/danludwig/BeginCollectionItem&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;BeginItemCollection&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;帮助器用于部分视图。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;该帮助器将&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;基于GUID &lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;呈现&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Index&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;值&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;的隐藏输入&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在局部视图和渲染现有项目的循环中都需要这样做。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;你的局部看起来像&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="fb703472f4015d9b3e23aeb33d2560200f854115" translate="yes" xml:space="preserve">
          <source>Your problem is that the partial renders html based on a single &lt;code&gt;AdminProductDetailModel&lt;/code&gt; object, yet you are trying to post back a collection. When you dynamically add a new object you continue to add duplicate controls that look like &lt;code&gt;&amp;lt;input name=&quot;productTotalQuantity&quot; ..&amp;gt;&lt;/code&gt; (this is also creating invalid html because of the duplicate &lt;code&gt;id&lt;/code&gt; attributes) where as they need to be &lt;code&gt;&amp;lt;input name=&quot;[0].productTotalQuantity&quot; ..&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;input name=&quot;[1].productTotalQuantity&quot; ..&amp;gt;&lt;/code&gt; etc. in order to bind to a collection on post back.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;您的问题是部分渲染基于单个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;AdminProductDetailModel&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对象的&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;html &lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，但是您尝试回发一个集合。动态添加新对象时，您将继续添加看起来像&lt;/font&gt;&lt;/font&gt; &lt;code&gt;&amp;lt;input name=&quot;productTotalQuantity&quot; ..&amp;gt;&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;重复控件&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;（由于&lt;/font&gt;&lt;/font&gt; &lt;code&gt;id&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;属性&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;重复，这也会创建无效的html &lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;），因此需要将它们作为&lt;/font&gt;&lt;/font&gt; &lt;code&gt;&amp;lt;input name=&quot;[0].productTotalQuantity&quot; ..&amp;gt;&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，&lt;/font&gt;&lt;/font&gt; &lt;code&gt;&amp;lt;input name=&quot;[1].productTotalQuantity&quot; ..&amp;gt;&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;等，以便在回发时绑定到集合。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>
