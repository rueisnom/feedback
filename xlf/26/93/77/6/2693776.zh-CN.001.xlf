<?xml version="1.0" encoding="utf-8"?>
<xliff xmlns="urn:oasis:names:tc:xliff:document:1.2" version="1.2">
  <file source-language="en" target-language="zh-CN" datatype="htmlbody" original="https://stackoverflow.com/questions/2693776">
    <body>
      <group id="2693776">
        <trans-unit id="17588cbeac26121dc2ff4bfdb17b4d8bec60e1d0" translate="yes" xml:space="preserve">
          <source>&lt;code&gt;buffer&lt;/code&gt;, from the original &lt;code&gt;fgets()&lt;/code&gt; will not contain in &lt;code&gt;&quot;\n&quot;&lt;/code&gt; under some circumstances:</source>
          <target state="translated">&lt;code&gt;buffer&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在某些情况下&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，原始&lt;/font&gt;&lt;/font&gt; &lt;code&gt;fgets()&lt;/code&gt; 的&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;buffer&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;不会包含在&lt;/font&gt;&lt;/font&gt; &lt;code&gt;&quot;\n&quot;&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="7b6476b440740bb53fa6ca5fda51934494631591" translate="yes" xml:space="preserve">
          <source>&lt;code&gt;sprintf(buffer,&quot;%s&quot;,buffer);&lt;/code&gt; is undefined behavior: &lt;a href=&quot;https://stackoverflow.com/questions/1283354/is-sprintfbuffer-s-buffer-safe&quot;&gt;Ref&lt;/a&gt;.  Further, it does not save any leading, separating or trailing whitespace.  Now &lt;a href=&quot;https://stackoverflow.com/a/23695411/2410359&quot;&gt;deleted&lt;/a&gt;.</source>
          <target state="translated">&lt;code&gt;sprintf(buffer,&quot;%s&quot;,buffer);&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;是未定义的行为：&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/questions/1283354/is-sprintfbuffer-s-buffer-safe&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;Ref&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;此外，它不保存任何前导，分隔或尾随空格。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;现在&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/a/23695411/2410359&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;删除&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="8edebaf846371fb02685cf5415e4a361071a883d" translate="yes" xml:space="preserve">
          <source>&lt;code&gt;strtok(buffer, &quot;\n&quot;);&lt;/code&gt; fails to remove the &lt;code&gt;'\n'&lt;/code&gt; when &lt;code&gt;buffer&lt;/code&gt; is &lt;code&gt;&quot;\n&quot;&lt;/code&gt;.  From this &lt;a href=&quot;https://stackoverflow.com/a/2693826/2410359&quot;&gt;answer&lt;/a&gt; - amended after this answer to warn of this limitation.</source>
          <target state="translated">&lt;code&gt;strtok(buffer, &quot;\n&quot;);&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;当&lt;/font&gt; &lt;code&gt;buffer&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;为&lt;/font&gt; &lt;code&gt;&quot;\n&quot;&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;时，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;无法删除&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\n'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;来自此&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/a/2693826/2410359&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;答案&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt; -在此答案后进行修改，以警告此限制。&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="c11c7f9a38cbf50864714db5403fb3ec1559c1d4" translate="yes" xml:space="preserve">
          <source>&lt;sup&gt;&lt;strong&gt;Note&lt;/strong&gt;: The &lt;a href=&quot;https://stackoverflow.com/questions/2008173/writing-secure-c-and-secure-c-idioms&quot;&gt;[ &lt;strong&gt;security issues&lt;/strong&gt; ]&lt;/a&gt; with &lt;code&gt;getline&lt;/code&gt; shouldn't be neglected though.&lt;/sup&gt;</source>
          <target state="translated">&lt;sup&gt;&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;注意&lt;/font&gt;&lt;/font&gt;&lt;/strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;：但是&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;不应忽略&lt;/font&gt; &lt;code&gt;getline&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;的&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/questions/2008173/writing-secure-c-and-secure-c-idioms&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;[ &lt;/font&gt;&lt;/font&gt;&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;安全问题&lt;/font&gt;&lt;/font&gt;&lt;/strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt; ]&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;/sup&gt;</target>
        </trans-unit>
        <trans-unit id="ae6ed8ccac4079b171464c9921193627826724a1" translate="yes" xml:space="preserve">
          <source>A) The line was too long for &lt;code&gt;buffer&lt;/code&gt; so only &lt;code&gt;char&lt;/code&gt; preceding the &lt;code&gt;'\n'&lt;/code&gt; is saved in &lt;code&gt;buffer&lt;/code&gt;. The unread characters remain in the stream.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;A）该行对于&lt;/font&gt;&lt;/font&gt; &lt;code&gt;buffer&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;来说太长，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;因此只有&lt;/font&gt; &lt;code&gt;'\n'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;之前的&lt;/font&gt;&lt;/font&gt; &lt;code&gt;char&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;被保存在&lt;/font&gt; &lt;code&gt;buffer&lt;/code&gt; 中&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;未读字符保留在流中。&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="0ec75f6f1b03675c336558f536ae0ae0d8f2a84c" translate="yes" xml:space="preserve">
          <source>An example usage could be</source>
          <target state="translated">一个例子可以是</target>
        </trans-unit>
        <trans-unit id="084461b2a607203f454efe363e40787e15d30a38" translate="yes" xml:space="preserve">
          <source>Aside from the question on its own. Try to avoid double negations that make your code unclearer: &lt;code&gt;if (!(fgets(Name, sizeof Name, stdin) != NULL) {}&lt;/code&gt;. You can simply do &lt;code&gt;if (fgets(Name, sizeof Name, stdin) == NULL) {}&lt;/code&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;除了问题本身。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;尝试避免使代码不清楚的双重否定：&lt;/font&gt;&lt;/font&gt; &lt;code&gt;if (!(fgets(Name, sizeof Name, stdin) != NULL) {}&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。您可以简单地执行&lt;/font&gt;&lt;/font&gt; &lt;code&gt;if (fgets(Name, sizeof Name, stdin) == NULL) {}&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="28ec2a1bef9727227ca8ae3d1f7d8f4119f9d480" translate="yes" xml:space="preserve">
          <source>B) The last line in the file did not end with a &lt;code&gt;'\n'&lt;/code&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;B）文件中的最后一行没有以&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\n'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;结尾&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="29ba253fd121a01b5ac2b2d5e382634155dcee4d" translate="yes" xml:space="preserve">
          <source>Below is a fast approach to remove a potential &lt;code&gt;'\n'&lt;/code&gt; from a string saved by &lt;code&gt;fgets()&lt;/code&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;下面是一种&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;从&lt;/font&gt; &lt;code&gt;fgets()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;保存的字符串中&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;删除可能的&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\n'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;的快速方法&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="c7884f940ff6e02b941812f70a813a0e98b6b977" translate="yes" xml:space="preserve">
          <source>Check if the last character of the proper string is a newline character &lt;code&gt;'\n'&lt;/code&gt;.  If this is the case, replace &lt;code&gt;\n&lt;/code&gt; with a &lt;code&gt;\0&lt;/code&gt;. Note that index counts start at &lt;code&gt;0&lt;/code&gt; so we will need to do &lt;code&gt;NAME[sl - 1]&lt;/code&gt;:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;检查正确字符串的最后一个字符是否为换行符&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\n'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在这种情况下，请将&lt;/font&gt;&lt;/font&gt; &lt;code&gt;\n&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;替换&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;为&lt;/font&gt;&lt;/font&gt; &lt;code&gt;\0&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;请注意，索引计数从&lt;/font&gt;&lt;/font&gt; &lt;code&gt;0&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;开始，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;因此我们需要执行&lt;/font&gt;&lt;/font&gt; &lt;code&gt;NAME[sl - 1]&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="5588c3113264873b8bcf00dc7f67c3fd7275cf8f" translate="yes" xml:space="preserve">
          <source>Determine the length of the string inside &lt;code&gt;NAME&lt;/code&gt; by using &lt;code&gt;strlen()&lt;/code&gt;, header &lt;code&gt;string.h&lt;/code&gt;. Note that &lt;code&gt;strlen()&lt;/code&gt; does not count the terminating &lt;code&gt;\0&lt;/code&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;通过使用&lt;/font&gt; &lt;code&gt;strlen()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;标题&lt;/font&gt; &lt;code&gt;string.h&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;来&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;确定&lt;/font&gt;&lt;/font&gt; &lt;code&gt;NAME&lt;/code&gt; 中&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;字符串的长度&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;请注意，&lt;/font&gt; &lt;code&gt;strlen()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;不计算结尾&lt;/font&gt; &lt;code&gt;\0&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="62bc1bd937f1e496f054be177dc30a22f5007734" translate="yes" xml:space="preserve">
          <source>Direct to remove the '\n' from the fgets output if every line has '\n'</source>
          <target state="translated">如果每一行都有'\n',则直接从fgets输出中删除'\n'。</target>
        </trans-unit>
        <trans-unit id="64ed69deb09d53305c493a835b9d7dd1c287b8ee" translate="yes" xml:space="preserve">
          <source>For single '\n' trimming,</source>
          <target state="translated">对于单一的'\n'修剪。</target>
        </trans-unit>
        <trans-unit id="a815460ecb5393f952534c733d7ba96bc9194ab7" translate="yes" xml:space="preserve">
          <source>For those looking for a Perl chomp equivalent in C, I think this is it (chomp only removes the trailing newline).</source>
          <target state="translated">对于那些在C语言中寻找Perl chomp等价物的人来说,我想就是这个了(chomp只是去掉了尾部的换行)。</target>
        </trans-unit>
        <trans-unit id="b8235669fadc1c3b6463c98b66b3215a1edccfa4" translate="yes" xml:space="preserve">
          <source>However, I find that it has a newline &lt;code&gt;\n&lt;/code&gt; character in the end. So if I enter &lt;code&gt;John&lt;/code&gt; it ends up sending &lt;code&gt;John\n&lt;/code&gt;. How do I remove that &lt;code&gt;\n&lt;/code&gt; and send a proper string.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;但是，我发现它最后有一个换行符&lt;/font&gt;&lt;/font&gt; &lt;code&gt;\n&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;因此，如果我输入&lt;/font&gt;&lt;/font&gt; &lt;code&gt;John&lt;/code&gt; ,&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;它将最终发送&lt;/font&gt;&lt;/font&gt; &lt;code&gt;John\n&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如何删除该&lt;/font&gt;&lt;/font&gt; &lt;code&gt;\n&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;并发送适当的字符串。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="92b9f755c10f7d8af026a9611aab8f0a9798583a" translate="yes" xml:space="preserve">
          <source>I am trying to get some data from the user and send it to another function in gcc. The code is something like this.</source>
          <target state="translated">我试图从用户那里获取一些数据,并将其发送到gcc中的另一个函数。代码是这样的。</target>
        </trans-unit>
        <trans-unit id="aebed1cd3093ed64e1deabe095975ae5e035c4fb" translate="yes" xml:space="preserve">
          <source>If input has embedded null characters &lt;code&gt;'\0'&lt;/code&gt; in it somewhere, the length reported by &lt;code&gt;strlen()&lt;/code&gt; will not include the &lt;code&gt;'\n'&lt;/code&gt; location.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果输入&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在某处&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;嵌入了空字符&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\0'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，则&lt;/font&gt;&lt;/font&gt; &lt;code&gt;strlen()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;报告的长度&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;将不包含&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\n'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;位置。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="25798a2d84859fe2b9500732fdb5b3fc507e7002" translate="yes" xml:space="preserve">
          <source>If using &lt;code&gt;getline&lt;/code&gt; is an option - Not neglecting its security issues and if you wish to brace pointers - you can avoid string functions as the &lt;code&gt;getline&lt;/code&gt; returns the number of characters. Something like below</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果使用&lt;/font&gt;&lt;/font&gt; &lt;code&gt;getline&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;是一种选择-不忽略其安全性问题，并且希望支撑指针，则可以避免使用字符串函数，因为&lt;/font&gt;&lt;/font&gt; &lt;code&gt;getline&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;返回字符数。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;像下面这样&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="a098ee1fa9f37934094faaddc4705207ffb06906" translate="yes" xml:space="preserve">
          <source>If you are in a different context and want to handle strings that may contain more than one newline, you might be looking for strrspn. It is not POSIX, meaning you will not find it on all Unices. I wrote one for my own needs.</source>
          <target state="translated">如果你在不同的上下文中想要处理可能包含一个以上换行的字符串,你可能需要寻找strrspn。它不是POSIX,这意味着你不会在所有的Unices上找到它。我根据自己的需要写了一个。</target>
        </trans-unit>
        <trans-unit id="16e391388d05fe8809acc01dcfb683d9510fc61e" translate="yes" xml:space="preserve">
          <source>If you rather like a function for use this technique by handling &lt;code&gt;fgets&lt;/code&gt; output strings in general without retyping each and every time, here is &lt;code&gt;fgets_newline_kill&lt;/code&gt;:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果您更喜欢通过处理&lt;/font&gt;&lt;/font&gt; &lt;code&gt;fgets&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;输出字符串而无需每次都重新键入的方式&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;来使用此技术&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，那么这里是&lt;/font&gt;&lt;/font&gt; &lt;code&gt;fgets_newline_kill&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="c27cd9277e04d0983e4fe0e22f9c519d9aed6df9" translate="yes" xml:space="preserve">
          <source>If you want it to also handle &lt;code&gt;'\r'&lt;/code&gt; (say, if the stream is binary):</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果您还希望它也处理&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\r'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;（例如，如果流是二进制的）：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="fc87dfa503559b23abfc2c2ba5c6c38e5d942713" translate="yes" xml:space="preserve">
          <source>In your provided example, it would be:</source>
          <target state="translated">在你提供的例子中,它将是:</target>
        </trans-unit>
        <trans-unit id="301b026841808a077b8336c2d8ab8d8d146cf954" translate="yes" xml:space="preserve">
          <source>It uses &lt;code&gt;strlen()&lt;/code&gt;, with 2 tests.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;它使用&lt;/font&gt;&lt;/font&gt; &lt;code&gt;strlen()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;并进行了2次测试。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="357a688b5d322e8cf3f46f09399ef0e2a72d339e" translate="yes" xml:space="preserve">
          <source>Look if the string begins with or only includes one &lt;code&gt;\0&lt;/code&gt; character (empty string). In this case &lt;code&gt;sl&lt;/code&gt; would be &lt;code&gt;0&lt;/code&gt; since &lt;code&gt;strlen()&lt;/code&gt; as I said above doesn&amp;acute;t count the &lt;code&gt;\0&lt;/code&gt; and stops at the first occurrence of it:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;查看字符串是否以开头或仅包含一个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;\0&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;字符（空字符串）。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在这种情况下，&lt;/font&gt;&lt;/font&gt; &lt;code&gt;sl&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;将为&lt;/font&gt;&lt;/font&gt; &lt;code&gt;0&lt;/code&gt; ,&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;因为&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如上所述，&lt;/font&gt;&lt;/font&gt; &lt;code&gt;strlen()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;不会计算&lt;/font&gt;&lt;/font&gt; &lt;code&gt;\0&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;并在第一次出现时停止：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="7668b9009909a939944744bedf08c08bf89a3972" translate="yes" xml:space="preserve">
          <source>My Newbie way ;-) Please let me know if that's correct. It seems to be working for all my cases:</source>
          <target state="translated">我的新手方式;--)请让我知道是否正确。看来我所有的情况都是这样的。</target>
        </trans-unit>
        <trans-unit id="74d5e2df72b62dba72c3c2b5287d99adbae71a76" translate="yes" xml:space="preserve">
          <source>Note if you only pressed Enter at the &lt;code&gt;fgets()&lt;/code&gt; string request (the string content was only consisted of a newline character) the string in &lt;code&gt;NAME&lt;/code&gt; will be an empty string thereafter.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;请注意，如果仅在&lt;/font&gt;&lt;/font&gt; &lt;code&gt;fgets()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;字符串请求中&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;按Enter键&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;（字符串内容仅由换行符组成），则&lt;/font&gt;&lt;/font&gt; &lt;code&gt;NAME&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;中的字符串此后将为空字符串。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="d2f93606c210fe7d049e8b054147860ecf407a84" translate="yes" xml:space="preserve">
          <source>Note that the &lt;code&gt;strtok&lt;/code&gt; function doesn't work as expected if the user enters an empty string (i.e. presses only Enter). It leaves the &lt;code&gt;\n&lt;/code&gt; character intact.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;请注意，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果用户输入一个空字符串（即仅按Enter）&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，则&lt;/font&gt;&lt;/font&gt; &lt;code&gt;strtok&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;函数将无法正常工作。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;它的叶子&lt;/font&gt;&lt;/font&gt; &lt;code&gt;\n&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;字符不变。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="76bd3bff0b9eda6d12e9ee9e965b76e91affa12e" translate="yes" xml:space="preserve">
          <source>Note that this method does not work if the input string has embedded &lt;code&gt;\0&lt;/code&gt;s in it. If that would be the case &lt;code&gt;strlen()&lt;/code&gt; would only return the amount of characters until the first &lt;code&gt;\0&lt;/code&gt;. But this isn&amp;acute;t quite a common approach, since the most string-reading functions usually stop at the first &lt;code&gt;\0&lt;/code&gt; and take the string until that null character.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;请注意，如果输入字符串中嵌入&lt;/font&gt;&lt;/font&gt; &lt;code&gt;\0&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，则此方法无效&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果&lt;/font&gt;&lt;/font&gt; &lt;code&gt;strlen()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;这样，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;strlen（）&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;只会返回直到第一个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;\0&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;为止的字符&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;数&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;但这不是一种很常见的方法，因为大多数读取字符串的函数通常在第一个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;\0&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;处停止，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;然后将字符串取出，直到该空字符为止。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="84688b4f502817ddeda256f770b47b079d08209d" translate="yes" xml:space="preserve">
          <source>Note that this works fine even if there is no newline, because &lt;code&gt;strcspn&lt;/code&gt; stops at a &lt;code&gt;'\0'&lt;/code&gt;. In that case, the entire line is simply replacing &lt;code&gt;'\0'&lt;/code&gt; with &lt;code&gt;'\0'&lt;/code&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;请注意，即使没有换行符，它也可以正常工作，因为&lt;/font&gt;&lt;/font&gt; &lt;code&gt;strcspn&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;停在&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\0'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在这种情况下，整行只需将&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\0'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;替换&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;为&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\0'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="55c1e4e6c77042f8508b28ec5fcd46121c4f697b" translate="yes" xml:space="preserve">
          <source>Note that you are comparing characters and not strings in this line, then there's no need to use strcmp():</source>
          <target state="translated">注意,你在这一行中比较的是字符而不是字符串,那么就没有必要使用strcmp()。</target>
        </trans-unit>
        <trans-unit id="57c5e5fd831a5e2005a36f13a76d847f1a2edbb9" translate="yes" xml:space="preserve">
          <source>Now use &lt;code&gt;buffer&lt;/code&gt; and &lt;code&gt;len&lt;/code&gt; as needed.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;现在&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;根据需要&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;使用&lt;/font&gt;&lt;/font&gt; &lt;code&gt;buffer&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;和&lt;/font&gt;&lt;/font&gt; &lt;code&gt;len&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="5cbc6561d27e47c3ea5b5fa6d9459eb9629b7617" translate="yes" xml:space="preserve">
          <source>Otherwise:</source>
          <target state="translated">Otherwise:</target>
        </trans-unit>
        <trans-unit id="15593d054360d0517694978f31c0d9ff75b7f8fa" translate="yes" xml:space="preserve">
          <source>Perhaps the simplest solution uses one of my favorite little-known functions, &lt;a href=&quot;http://www.freebsd.org/cgi/man.cgi?query=strcspn&amp;amp;sektion=3&quot;&gt;&lt;code&gt;strcspn()&lt;/code&gt;&lt;/a&gt;:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;也许最简单的解决方案使用了我最喜欢的鲜为人知的函数之一&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;http://www.freebsd.org/cgi/man.cgi?query=strcspn&amp;amp;sektion=3&quot;&gt; &lt;code&gt;strcspn()&lt;/code&gt; &lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="faf2dde858b51c24f9bc5183a0b1425cd106cdb8" translate="yes" xml:space="preserve">
          <source>Removing trailing newline character from fgets() input</source>
          <target state="translated">删除fgets()输入中的拖尾换行字符</target>
        </trans-unit>
        <trans-unit id="ab9fa49a160fda355909732469d127d24715ff9c" translate="yes" xml:space="preserve">
          <source>Some other answers' issues:</source>
          <target state="translated">一些其他答案的问题。</target>
        </trans-unit>
        <trans-unit id="84451189df0be1becd0dc1c6856eb0139f0dc81c" translate="yes" xml:space="preserve">
          <source>The finished code:</source>
          <target state="translated">完成的代码。</target>
        </trans-unit>
        <trans-unit id="9ac99848cf2b09b263c72ae4a0f0c0a7edae6a05" translate="yes" xml:space="preserve">
          <source>The following fails on rare occasions when the first &lt;code&gt;char&lt;/code&gt; read by &lt;code&gt;fgets()&lt;/code&gt; is &lt;code&gt;'\0'&lt;/code&gt;.  This happens when input begins with an embedded &lt;code&gt;'\0'&lt;/code&gt;.  Then &lt;code&gt;buffer[len -1]&lt;/code&gt; becomes &lt;code&gt;buffer[SIZE_MAX]&lt;/code&gt; accessing memory certainly outside the legitimate range of &lt;code&gt;buffer&lt;/code&gt;. Something a hacker may try or found in foolishly reading UTF16 text files.  This was the state of an &lt;a href=&quot;https://stackoverflow.com/a/2693827/2410359&quot;&gt;answer&lt;/a&gt; when this answer was written.  Later a non-OP edited it to include code like this answer's check for &lt;code&gt;&quot;&quot;&lt;/code&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;当&lt;/font&gt; &lt;code&gt;fgets()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;读取&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;的第一个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;char&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;为&lt;/font&gt; &lt;code&gt;'\0'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;时，以下情况在少数情况下会失败&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。当输入以嵌入式&lt;/font&gt; &lt;code&gt;'\0'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;开头时，就会发生这种情况&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。然后，&lt;/font&gt; &lt;code&gt;buffer[len -1]&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;成为&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;肯定在&lt;/font&gt; &lt;code&gt;buffer&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;合法范围之外访问内存的&lt;/font&gt; &lt;code&gt;buffer[SIZE_MAX]&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;。黑客在愚蠢地读取UTF16文本文件时可能尝试或发现的某些东西。这&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;是写&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/a/2693827/2410359&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;答案&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;时&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;的状态&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。后来，一个非OP对其进行了编辑，以包含此答案的&lt;/font&gt; &lt;code&gt;&quot;&quot;&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;检查之类的代码&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="5acf23625cf0cdb551cb510358279949486e4ff2" translate="yes" xml:space="preserve">
          <source>The function below is a part of string processing library I am maintaining on Github. It removes and unwanted characters from a string, exactly what you want</source>
          <target state="translated">下面这个函数是我在Github上维护的字符串处理库的一部分。它可以从字符串中删除不需要的字符,这正是你想要的。</target>
        </trans-unit>
        <trans-unit id="881b0b5a72ebbad1a2ff7f6f09ba50026cd6fc6c" translate="yes" xml:space="preserve">
          <source>The function counts the number of characters until it hits a &lt;code&gt;'\r'&lt;/code&gt; or a &lt;code&gt;'\n'&lt;/code&gt; (in other words, it finds the first &lt;code&gt;'\r'&lt;/code&gt; or &lt;code&gt;'\n'&lt;/code&gt;). If it doesn't hit anything, it stops at the &lt;code&gt;'\0'&lt;/code&gt; (returning the length of the string).</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;该函数对字符数进行计数，直到达到&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\r'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;或&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\n'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;为止&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;（换句话说，它找到第一个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\r'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;或&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\n'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;）。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果没有击中任何内容，它将在&lt;/font&gt;&lt;/font&gt; &lt;code&gt;'\0'&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;处停止&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;（返回字符串的长度）。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="e2206aabeb953e01ef884dc01a3d8e21c7202406" translate="yes" xml:space="preserve">
          <source>The slightly strange way:</source>
          <target state="translated">略显奇怪的方式。</target>
        </trans-unit>
        <trans-unit id="b25d93ba0f2bf9687f537b092664e1a45f4afa56" translate="yes" xml:space="preserve">
          <source>The slightly ugly way:</source>
          <target state="translated">略显丑陋的方式。</target>
        </trans-unit>
        <trans-unit id="0ceea0652bed29bf398e81c9aefbb45a5d8f4f63" translate="yes" xml:space="preserve">
          <source>The steps to remove the newline character in the perhaps most obvious way:</source>
          <target state="translated">用也许是最明显的方法去掉换行字的步骤。</target>
        </trans-unit>
        <trans-unit id="2b0d5f2309686406cd46b7766fe3e9ad32bfc341" translate="yes" xml:space="preserve">
          <source>The strrcspn function:</source>
          <target state="translated">strrcspn函数。</target>
        </trans-unit>
        <trans-unit id="1033ca162ba24e43cd64a9d85a0905ed572eb3de" translate="yes" xml:space="preserve">
          <source>There are others as well, of course.</source>
          <target state="translated">当然,还有其他的也有。</target>
        </trans-unit>
        <trans-unit id="dda7b27bc1777221bd94edde878a7b871ec26bd3" translate="yes" xml:space="preserve">
          <source>This method has the side benefit of a &lt;code&gt;len&lt;/code&gt; value for subsequent code.  It can be easily faster than &lt;code&gt;strchr(Name, '\n')&lt;/code&gt;.  &lt;a href=&quot;https://codereview.stackexchange.com/a/67844/29485&quot;&gt;Ref&lt;/a&gt;  YMMV, but both methods work.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;此方法的附带好处是&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;后续代码&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;的&lt;/font&gt;&lt;/font&gt; &lt;code&gt;len&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;值。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;它可以比&lt;/font&gt;&lt;/font&gt; &lt;code&gt;strchr(Name, '\n')&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;更快&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。 &lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://codereview.stackexchange.com/a/67844/29485&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;引用&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt; YMMV，但是两种方法都可以。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="51cd7c44ef2f697f44c8be5f6804d1aa2500a035" translate="yes" xml:space="preserve">
          <source>Tim Čas one liner is amazing for strings obtained by a call to fgets, because you know they contain a single newline at the end.</source>
          <target state="translated">Tim Čas的单行线对于通过调用fgets获得的字符串来说是很神奇的,因为你知道它们在结尾处包含一个单行线。</target>
        </trans-unit>
        <trans-unit id="caa1e262fa45aaf08d48a852baae5e5bd6a9f9fb" translate="yes" xml:space="preserve">
          <source>Try this one:</source>
          <target state="translated">试试这个。</target>
        </trans-unit>
        <trans-unit id="90f8a273d3f58fbbab827c79a09e95557cc03695" translate="yes" xml:space="preserve">
          <source>We can combine step 2. and 3. together in just one &lt;code&gt;if&lt;/code&gt;-statement by using the logic operator &lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt;:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;我们可以在短短的一个结合在一起步骤2和3 &lt;/font&gt;&lt;/font&gt; &lt;code&gt;if&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;使用逻辑运算符语句来&lt;/font&gt;&lt;/font&gt; &lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="30db875555ae5a2ab02844403dce8ced2177b692" translate="yes" xml:space="preserve">
          <source>You may want to check other available functions, or even contribute to the project :)
&lt;a href=&quot;https://github.com/fnoyanisi/zString&quot;&gt;https://github.com/fnoyanisi/zString&lt;/a&gt;</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;您可能要检查其他可用功能，甚至对项目有所帮助：） &lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://github.com/fnoyanisi/zString&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;https://github.com/fnoyanisi/zString&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;</target>
        </trans-unit>
        <trans-unit id="ccc832948fa55b9591bd38b62606c10358f7c9f3" translate="yes" xml:space="preserve">
          <source>You should give it a try. This code basically loop through the string until it finds the '\n'. When it's found the '\n' will be replaced by the null character terminator '\0'</source>
          <target state="translated">你应该试一试。这段代码基本上是在字符串中循环,直到找到'\n'。当它找到后,'\n'将被空字符结束符'\0'取代。</target>
        </trans-unit>
        <trans-unit id="bb63087690ef35baa570981e1ce7c8eec04fbca4" translate="yes" xml:space="preserve">
          <source>[Edit due to good later &lt;a href=&quot;https://stackoverflow.com/a/28462221/2410359&quot;&gt;answer&lt;/a&gt;] There are no problems with the 1 liner &lt;code&gt;buffer[strcspn(buffer, &quot;\n&quot;)] = 0;&lt;/code&gt; other than performance as compared to the &lt;code&gt;strlen()&lt;/code&gt; approach.  Performance in trimming is usually not an issue given code is doing I/O - a black hole of CPU time.  Should following code need the string's length or is highly performance conscious, use this &lt;code&gt;strlen()&lt;/code&gt; approach.  Else the &lt;code&gt;strcspn()&lt;/code&gt; is a fine alternative.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;[由于稍后的&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/a/28462221/2410359&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;答复，请进行&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;编辑&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;] 1衬里&lt;/font&gt;&lt;/font&gt; &lt;code&gt;buffer[strcspn(buffer, &quot;\n&quot;)] = 0;&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;没有任何问题&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;；&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;与性能（与&lt;/font&gt;&lt;/font&gt; &lt;code&gt;strlen()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;方法&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;相比&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;）不同&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果代码正在执行I / O，则修剪性能通常不是问题，这是CPU时间的黑洞。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果以下代码需要字符串的长度或对性能有高度的了解，请使用此&lt;/font&gt;&lt;/font&gt; &lt;code&gt;strlen()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;方法。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;否则，&lt;/font&gt;&lt;/font&gt; &lt;code&gt;strcspn()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;是一个很好的选择。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="762253589c6037f7d21d1b23e853e4a1a3f3da5e" translate="yes" xml:space="preserve">
          <source>for multiple '\n' trimming,</source>
          <target state="translated">对于多个&quot;\n &quot;的修剪。</target>
        </trans-unit>
        <trans-unit id="ae73087df2413488ab55d569310792a96084b219" translate="yes" xml:space="preserve">
          <source>since you will be using single quotes and not double quotes. &lt;a href=&quot;https://stackoverflow.com/questions/3683602/single-quotes-vs-double-quotes-in-c-or-c&quot;&gt;Here's&lt;/a&gt; a link about single vs double quotes if you want to know more</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;因为您将使用单引号而不是双引号。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果您想了解更多，&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/questions/3683602/single-quotes-vs-double-quotes-in-c-or-c&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;这里是&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;单引号和双引号的链接&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>
