<?xml version="1.0" encoding="utf-8"?>
<xliff xmlns="urn:oasis:names:tc:xliff:document:1.2" version="1.2">
  <file source-language="en" target-language="zh-CN" datatype="htmlbody" original="https://stackoverflow.com/questions/2185252">
    <body>
      <group id="2185252">
        <trans-unit id="3251bdf224e64aa88d64c56dc9b3671cc88eb89b" translate="yes" xml:space="preserve">
          <source>&lt;a href=&quot;/questions/tagged/reshape2&quot;&gt;reshape2&lt;/a&gt; is retired. Only changes necessary to keep it on CRAN will be made. (&lt;a href=&quot;https://github.com/hadley/reshape#status&quot;&gt;source&lt;/a&gt;)</source>
          <target state="translated">&lt;a href=&quot;/questions/tagged/reshape2&quot;&gt;reshape2&lt;/a&gt;已淘汰 。 仅进行必要的更改以将其保留在CRAN上。 （ &lt;a href=&quot;https://github.com/hadley/reshape#status&quot;&gt;来源&lt;/a&gt; ）</target>
        </trans-unit>
        <trans-unit id="528a48d6fe2773942f5e7f80df7e0e80c071df52" translate="yes" xml:space="preserve">
          <source>&lt;a href=&quot;https://stackoverflow.com/questions/40432590/r-sprintf-list-of-variables-of-mixed-type&quot;&gt;Using &lt;code&gt;sprintf&lt;/code&gt; writing up sql queries&lt;/a&gt;&lt;strong&gt;&lt;em&gt;Or&lt;/em&gt;&lt;/strong&gt;&lt;a href=&quot;https://stackoverflow.com/questions/7547950/how-can-i-pass-r-variable-into-sqldf&quot;&gt;Pass variables to &lt;code&gt;sqldf&lt;/code&gt;&lt;/a&gt;</source>
          <target state="translated">&lt;a href=&quot;https://stackoverflow.com/questions/40432590/r-sprintf-list-of-variables-of-mixed-type&quot;&gt;使用 &lt;code&gt;sprintf&lt;/code&gt; 编写sql查询&lt;/a&gt; &lt;strong&gt;&lt;em&gt;或将&lt;/em&gt;&lt;/strong&gt; &lt;a href=&quot;https://stackoverflow.com/questions/7547950/how-can-i-pass-r-variable-into-sqldf&quot;&gt;变量传递给 &lt;code&gt;sqldf&lt;/code&gt; &lt;/a&gt;</target>
        </trans-unit>
        <trans-unit id="699bae13e8a1e44127e8e84152797d10bd70e1b0" translate="yes" xml:space="preserve">
          <source>&lt;code&gt;is.vector&lt;/code&gt; returns &lt;code&gt;TRUE&lt;/code&gt; if x is a vector of the specified mode having no attributes &lt;em&gt;other than names&lt;/em&gt;. It returns &lt;code&gt;FALSE&lt;/code&gt; otherwise.</source>
          <target state="translated">如果x是指定模式的向量，并且&lt;em&gt;名称&lt;/em&gt;没有属性，则 &lt;code&gt;is.vector&lt;/code&gt; 返回 &lt;code&gt;TRUE&lt;/code&gt; 。 否则返回 &lt;code&gt;FALSE&lt;/code&gt; 。</target>
        </trans-unit>
        <trans-unit id="b247b84f18aea156fe511ad21c62c0babdeeb072" translate="yes" xml:space="preserve">
          <source>&lt;code&gt;reshape()&lt;/code&gt; takes a while to get used to, just as &lt;code&gt;melt&lt;/code&gt;/&lt;code&gt;cast&lt;/code&gt;. Here is a solution with reshape, assuming your data frame is called &lt;code&gt;d&lt;/code&gt;:</source>
          <target state="translated">&lt;code&gt;reshape()&lt;/code&gt; 需要一段时间才能适应，就像 &lt;code&gt;melt&lt;/code&gt; / &lt;code&gt;cast&lt;/code&gt; 一样 。 假设您的数据帧称为 &lt;code&gt;d&lt;/code&gt; ，这是一种具有整形的解决方案：</target>
        </trans-unit>
        <trans-unit id="d5bd2d21f91c6a365b1af102ae7f34fc318c4822" translate="yes" xml:space="preserve">
          <source>&lt;strong&gt;1) With &lt;a href=&quot;/questions/tagged/data.table&quot;&gt;data.table&lt;/a&gt;:&lt;/strong&gt;</source>
          <target state="translated">&lt;strong&gt;1）与&lt;a href=&quot;/questions/tagged/data.table&quot;&gt;data.table&lt;/a&gt; ：&lt;/strong&gt;</target>
        </trans-unit>
        <trans-unit id="b8f76f28b7c9773eef6a6a63f2913ba3affa6b0f" translate="yes" xml:space="preserve">
          <source>&lt;strong&gt;2) With &lt;a href=&quot;/questions/tagged/tidyr&quot;&gt;tidyr&lt;/a&gt;:&lt;/strong&gt;</source>
          <target state="translated">&lt;strong&gt;2）与&lt;a href=&quot;/questions/tagged/tidyr&quot;&gt;提迪尔&lt;/a&gt; ：&lt;/strong&gt;</target>
        </trans-unit>
        <trans-unit id="ced0036051e97d06bbf3237c0b6dea66956d0339" translate="yes" xml:space="preserve">
          <source>&lt;strong&gt;3) With &lt;a href=&quot;/questions/tagged/reshape2&quot;&gt;reshape2&lt;/a&gt;:&lt;/strong&gt;</source>
          <target state="translated">&lt;strong&gt;3）随着&lt;a href=&quot;/questions/tagged/reshape2&quot;&gt;reshape2&lt;/a&gt; ：&lt;/strong&gt;</target>
        </trans-unit>
        <trans-unit id="8887e3883f45163fa24942c9141fd83fedfda679" translate="yes" xml:space="preserve">
          <source>&lt;strong&gt;Data:&lt;/strong&gt;</source>
          <target state="translated">&lt;strong&gt;Data:&lt;/strong&gt;</target>
        </trans-unit>
        <trans-unit id="1108e3f34b34bda627901cd7b6e24c6b1a30c51c" translate="yes" xml:space="preserve">
          <source>&lt;sup&gt; Thanks to &lt;a href=&quot;https://stackoverflow.com/questions/2185252/reshaping-data-frame-from-wide-to-long-format/55697091#comment98079584_55697091&quot;&gt;G. Grothendieck&lt;/a&gt; for implementing it.&lt;/sup&gt;</source>
          <target state="translated">&lt;sup&gt;感谢&lt;a href=&quot;https://stackoverflow.com/questions/2185252/reshaping-data-frame-from-wide-to-long-format/55697091#comment98079584_55697091&quot;&gt;G. Grothendieck&lt;/a&gt;实施它。&lt;/sup&gt;</target>
        </trans-unit>
        <trans-unit id="b132bec40d380d9c3e7313a7c056ea56ecdafb7c" translate="yes" xml:space="preserve">
          <source>Another problem with the data is that the values will be read by R as character-values (as a result of the &lt;code&gt;,&lt;/code&gt; in the numbers). You can repair that with &lt;code&gt;gsub&lt;/code&gt; and &lt;code&gt;as.numeric&lt;/code&gt;:</source>
          <target state="translated">数据的另一个问题是R会将这些值读取为字符值（由于数字中的的结果）。 您可以使用 &lt;code&gt;gsub&lt;/code&gt; 和 &lt;code&gt;as.numeric&lt;/code&gt; 修复该问题 ：</target>
        </trans-unit>
        <trans-unit id="d32f7b23d310458e2f1f82813a431628c4ccc558" translate="yes" xml:space="preserve">
          <source>Here is another example showing the use of &lt;code&gt;gather&lt;/code&gt; from &lt;code&gt;tidyr&lt;/code&gt;. You can select the columns to &lt;code&gt;gather&lt;/code&gt; either by removing them individually (as I do here), or by including the years you want explicitly.</source>
          <target state="translated">这是另一个示例，显示了使用 &lt;code&gt;tidyr&lt;/code&gt; 的气相 &lt;code&gt;gather&lt;/code&gt; 。 您可以选择删除要 &lt;code&gt;gather&lt;/code&gt; 的列，方法是分别删除它们（如我在此处所做的），或者通过明确包含想要的年份。</target>
        </trans-unit>
        <trans-unit id="b675706a80a9fe0a8c5e1646c5abe52f8651d4db" translate="yes" xml:space="preserve">
          <source>Here's a &lt;a href=&quot;/questions/tagged/sqldf&quot;&gt;sqldf&lt;/a&gt; solution:</source>
          <target state="translated">这是一个&lt;a href=&quot;/questions/tagged/sqldf&quot;&gt;sqldf&lt;/a&gt;解决方案：</target>
        </trans-unit>
        <trans-unit id="b77907bd3cd113acfd918417269b633bc824153a" translate="yes" xml:space="preserve">
          <source>Here's the &lt;code&gt;stack&lt;/code&gt; approach:</source>
          <target state="translated">这是 &lt;code&gt;stack&lt;/code&gt; 方法：</target>
        </trans-unit>
        <trans-unit id="0effbab17414c507d05b2f4d2f5ad0cc2d40b88b" translate="yes" xml:space="preserve">
          <source>I have looked at and already tried using the &lt;code&gt;melt()&lt;/code&gt; and the &lt;code&gt;reshape()&lt;/code&gt; functions
as some people were suggesting in similar questions.
However, so far I only get messy results.</source>
          <target state="translated">我已经看过并且已经尝试使用 &lt;code&gt;melt()&lt;/code&gt; 和 &lt;code&gt;reshape()&lt;/code&gt; 函数，就像某些人在类似问题中提出的那样。 但是，到目前为止，我只得到混乱的结果。</target>
        </trans-unit>
        <trans-unit id="f12bbf96356227c73682899af33dca99849c6473" translate="yes" xml:space="preserve">
          <source>I have some trouble to convert my &lt;code&gt;data.frame&lt;/code&gt; from a wide table to a long table.
At the moment it looks like this:</source>
          <target state="translated">我很难将 &lt;code&gt;data.frame&lt;/code&gt; 从宽表转换为长表。 目前看起来像这样：</target>
        </trans-unit>
        <trans-unit id="bffe15520a9fce42d86f3143d3faad5dba565849" translate="yes" xml:space="preserve">
          <source>I'm using the sample data &lt;a href=&quot;https://stackoverflow.com/a/25856135/1270695&quot;&gt;from @Jaap's answer&lt;/a&gt;, where the values in the year columns are &lt;code&gt;factor&lt;/code&gt;s.</source>
          <target state="translated">我正在使用&lt;a href=&quot;https://stackoverflow.com/a/25856135/1270695&quot;&gt;@Jaap的答案中&lt;/a&gt;的样本数据，其中year列中的值为s。</target>
        </trans-unit>
        <trans-unit id="d9bfc4f6945ae0e1dbbeee26ca5b3120e1ed21b5" translate="yes" xml:space="preserve">
          <source>If it is possible I would like to do it with the &lt;code&gt;reshape()&lt;/code&gt; function since
it looks a little bit nicer to handle.</source>
          <target state="translated">如果可能的话，我想使用 &lt;code&gt;reshape()&lt;/code&gt; 函数，因为它看起来要好一些。</target>
        </trans-unit>
        <trans-unit id="9a7dad840bf4bc23506f0aa9b0aae1f828ff3b92" translate="yes" xml:space="preserve">
          <source>If you want to exclude &lt;code&gt;NA&lt;/code&gt; values, you can add &lt;code&gt;na.rm = TRUE&lt;/code&gt; to the &lt;code&gt;melt&lt;/code&gt; as well as the &lt;code&gt;gather&lt;/code&gt; functions.</source>
          <target state="translated">如果要排除 &lt;code&gt;NA&lt;/code&gt; 值，则可以将 &lt;code&gt;na.rm = TRUE&lt;/code&gt; 添加到 &lt;code&gt;melt&lt;/code&gt; 和 &lt;code&gt;gather&lt;/code&gt; 函数中。</target>
        </trans-unit>
        <trans-unit id="88566bd1b820d0f2694fa3e363f0e81946f886f0" translate="yes" xml:space="preserve">
          <source>NOTES:</source>
          <target state="translated">NOTES:</target>
        </trans-unit>
        <trans-unit id="2a1295b3706b7680a7b0d360b736bdea6381e53a" translate="yes" xml:space="preserve">
          <source>Note that, to handle the commas (and X's added if &lt;code&gt;check.names = FALSE&lt;/code&gt; is not set), I am also using &lt;code&gt;dplyr&lt;/code&gt;'s mutate with &lt;code&gt;parse_number&lt;/code&gt; from &lt;code&gt;readr&lt;/code&gt; to convert the text values back to numbers. These are all part of the &lt;code&gt;tidyverse&lt;/code&gt; and so can be loaded together with &lt;code&gt;library(tidyverse)&lt;/code&gt;</source>
          <target state="translated">请注意，为了处理逗号（如果未设置 &lt;code&gt;check.names = FALSE&lt;/code&gt; 则添加X），我还使用 &lt;code&gt;dplyr&lt;/code&gt; 的mutate和来自 &lt;code&gt;readr&lt;/code&gt; 的parse_number将文本值转换回数字。 这些都是 &lt;code&gt;tidyverse&lt;/code&gt; 的一部分，因此可以与 &lt;code&gt;library(tidyverse)&lt;/code&gt; 一起加载</target>
        </trans-unit>
        <trans-unit id="5d6335a1eac4e628322fe6ba022f1da8910d5810" translate="yes" xml:space="preserve">
          <source>Note, however, that &lt;code&gt;stack&lt;/code&gt; does not work with &lt;code&gt;factor&lt;/code&gt;s--it only works if &lt;code&gt;is.vector&lt;/code&gt; is &lt;code&gt;TRUE&lt;/code&gt;, and from the documentation for &lt;code&gt;is.vector&lt;/code&gt;, we find that:</source>
          <target state="translated">但是请注意，该 &lt;code&gt;stack&lt;/code&gt; 不适用于 &lt;code&gt;factor&lt;/code&gt; s-仅在 &lt;code&gt;is.vector&lt;/code&gt; 为 &lt;code&gt;TRUE&lt;/code&gt; 时有效 ，并且从 &lt;code&gt;is.vector&lt;/code&gt; 的文档中我们发现：</target>
        </trans-unit>
        <trans-unit id="b737d29b4f5c15579cabdd6d6114103e226730a0" translate="yes" xml:space="preserve">
          <source>Now I would like to transform this &lt;code&gt;data.frame&lt;/code&gt; into a long &lt;code&gt;data.frame&lt;/code&gt;.
Something like this:</source>
          <target state="translated">现在，我想将此 &lt;code&gt;data.frame&lt;/code&gt; 转换为一个长的 &lt;code&gt;data.frame&lt;/code&gt; 。 像这样：</target>
        </trans-unit>
        <trans-unit id="36c85e63b648926e0f32d572fcdb2ef520795f3a" translate="yes" xml:space="preserve">
          <source>Or directly with &lt;code&gt;data.table&lt;/code&gt; or &lt;code&gt;dplyr&lt;/code&gt;:</source>
          <target state="translated">或直接与 &lt;code&gt;data.table&lt;/code&gt; 或 &lt;code&gt;dplyr&lt;/code&gt; ：</target>
        </trans-unit>
        <trans-unit id="5a669bb820acd05ba33bac831c386fb6ca41e1ce" translate="yes" xml:space="preserve">
          <source>Reshaping data.frame from wide to long format</source>
          <target state="translated">将data.frame从宽格式重塑为长格式</target>
        </trans-unit>
        <trans-unit id="7749fcf802c472b6c2f5bd0556805e456ffd5674" translate="yes" xml:space="preserve">
          <source>Returns:</source>
          <target state="translated">Returns:</target>
        </trans-unit>
        <trans-unit id="ed7cfd7b179edef42d8471bab4706bccdd5598fd" translate="yes" xml:space="preserve">
          <source>Since this answer is tagged with &lt;a href=&quot;/questions/tagged/r-faq&quot;&gt;r-faq&lt;/a&gt;, I felt it would be useful to share another alternative from base R: &lt;code&gt;stack&lt;/code&gt;.</source>
          <target state="translated">由于此答案带有&lt;a href=&quot;/questions/tagged/r-faq&quot;&gt;r-faq&lt;/a&gt;标记，因此我认为共享基本R： &lt;code&gt;stack&lt;/code&gt; 的另一种选择将很有用。</target>
        </trans-unit>
        <trans-unit id="766a3dc92648b0edb64118a2246d863eaa45d677" translate="yes" xml:space="preserve">
          <source>Some alternative notations that give the same result:</source>
          <target state="translated">一些可供选择的记事法,其结果相同。</target>
        </trans-unit>
        <trans-unit id="98b7189648af5fba704e358390c2519c1baaa4b4" translate="yes" xml:space="preserve">
          <source>Some alternative notations:</source>
          <target state="translated">一些可供选择的记号:</target>
        </trans-unit>
        <trans-unit id="11690fe218c4a160ef25cd30ad8b32e772c8a523" translate="yes" xml:space="preserve">
          <source>Three alternative solutions:</source>
          <target state="translated">三种备选方案:</target>
        </trans-unit>
        <trans-unit id="c83fe296cfa7f526ac5680c114de0986d17d9924" translate="yes" xml:space="preserve">
          <source>To make the query without typing in everything, you can use the following:</source>
          <target state="translated">要进行查询而不需要输入所有内容,可以使用下面的方法。</target>
        </trans-unit>
        <trans-unit id="f34730a3e170eb3a0175ecaa508e61fe989e7b2f" translate="yes" xml:space="preserve">
          <source>Unfortunately, I don't think that &lt;code&gt;PIVOT&lt;/code&gt; and &lt;code&gt;UNPIVOT&lt;/code&gt; would work for &lt;code&gt;R&lt;/code&gt;&lt;code&gt;SQLite&lt;/code&gt;. If you want to write up your query in a more sophisticated manner, you can also take a look at these posts:</source>
          <target state="translated">不幸的是，我认为 &lt;code&gt;PIVOT&lt;/code&gt; 和 &lt;code&gt;UNPIVOT&lt;/code&gt; 不能用于 &lt;code&gt;R&lt;/code&gt; &lt;code&gt;SQLite&lt;/code&gt; 。 如果您想以更复杂的方式编写查询，还可以查看以下文章：</target>
        </trans-unit>
        <trans-unit id="2fe996b4e9f07ff4ad753a286aa1ee2dd3ff698e" translate="yes" xml:space="preserve">
          <source>Using &lt;em&gt;reshape&lt;/em&gt; package:</source>
          <target state="translated">使用&lt;em&gt;重塑&lt;/em&gt;包装：</target>
        </trans-unit>
        <trans-unit id="27ad19e90bfdb324575b0836f33545762785d932" translate="yes" xml:space="preserve">
          <source>With &lt;code&gt;tidyr_1.0.0&lt;/code&gt;, another option is &lt;code&gt;pivot_longer&lt;/code&gt;</source>
          <target state="translated">使用 &lt;code&gt;tidyr_1.0.0&lt;/code&gt; 时 ，另一个选项是 &lt;code&gt;pivot_longer&lt;/code&gt;</target>
        </trans-unit>
        <trans-unit id="d1fdeb7e5aece4627ed554bd68d8a90596bc6a4d" translate="yes" xml:space="preserve">
          <source>You can use the same &lt;code&gt;melt&lt;/code&gt; function as in the &lt;code&gt;reshape2&lt;/code&gt; package (which is an extended &amp;amp; improved implementation). &lt;code&gt;melt&lt;/code&gt; from &lt;code&gt;data.table&lt;/code&gt; has also more parameters that the &lt;code&gt;melt&lt;/code&gt;-function from &lt;code&gt;reshape2&lt;/code&gt;. You can for example also specify the name of the variable-column:</source>
          <target state="translated">您可以使用与 &lt;code&gt;reshape2&lt;/code&gt; 包中相同的 &lt;code&gt;melt&lt;/code&gt; 函数（这是扩展和改进的实现）。 来自 &lt;code&gt;data.table&lt;/code&gt; 的melt也具有比来自reshape2的 &lt;code&gt;melt&lt;/code&gt; 函数更多的参数。 例如，您还可以指定变量列的名称：</target>
        </trans-unit>
        <trans-unit id="a17c9aaa61e80a1bf71d0d850af4e5baa9800bbd" translate="yes" xml:space="preserve">
          <source>data</source>
          <target state="translated">data</target>
        </trans-unit>
        <trans-unit id="88dc6e662ab6827a52e6b9e9027101485ddfb787" translate="yes" xml:space="preserve">
          <source>which gives:</source>
          <target state="translated">这给了:</target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>
