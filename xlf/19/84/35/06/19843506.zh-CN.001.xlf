<?xml version="1.0" encoding="utf-8"?>
<xliff xmlns="urn:oasis:names:tc:xliff:document:1.2" version="1.2">
  <file source-language="en" target-language="zh-CN" datatype="htmlbody" original="https://stackoverflow.com/questions/19843506">
    <body>
      <group id="19843506">
        <trans-unit id="e9c1aa89bb6b869ad842732a0da20abd903f9c9c" translate="yes" xml:space="preserve">
          <source>&lt;sup&gt;Note: this is designed to be a canonical Q&amp;amp;A for the numerous similar issues that arise on this site.&lt;/sup&gt;</source>
          <target state="translated">&lt;sup&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;注意：这是对本站点上发生的许多类似问题的规范问答。&lt;/font&gt;&lt;/font&gt;&lt;/sup&gt;</target>
        </trans-unit>
        <trans-unit id="5a2728a7410706944b08f21ef44ff31805f18164" translate="yes" xml:space="preserve">
          <source>Accidentally adding the &lt;em&gt;same&lt;/em&gt; object to the list</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;意外将&lt;/font&gt;&lt;/font&gt;&lt;em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;同一&lt;/font&gt;&lt;/font&gt;&lt;/em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对象&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;添加&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;到列表&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="102e577fa0214f1ebe32c6334eb0187154bce3cc" translate="yes" xml:space="preserve">
          <source>Actual:</source>
          <target state="translated">Actual:</target>
        </trans-unit>
        <trans-unit id="9e05d787c6fa2c3830581b8478b75e0975ca33fa" translate="yes" xml:space="preserve">
          <source>Adding the Same Object</source>
          <target state="translated">添加同一对象</target>
        </trans-unit>
        <trans-unit id="2e604e1d70a8658a43245b46666a6a9c5a5b2ba5" translate="yes" xml:space="preserve">
          <source>And lets say you have the same 1 copy of Card, so at the time of adding a new object, you can do this:</source>
          <target state="translated">假设你有相同的1份卡,所以在添加新对象的时候,你可以这样做。</target>
        </trans-unit>
        <trans-unit id="3a0c2710c5ab2116534d93cb82f42ed8cee9b7ef" translate="yes" xml:space="preserve">
          <source>Every time you add an object to an ArrayList, make sure you add a new object and not already used object. What is happening is that when you add the same 1 copy of object, that same object is added to different positions in an ArrayList. And when you make change to one, because the same copy is added over and over again, all the copies get affected. 
For example,
Say you have an ArrayList like this:</source>
          <target state="translated">每当你向ArrayList中添加一个对象时,要确保你添加的是一个新的对象而不是已经使用过的对象。发生的情况是,当你添加相同的1个对象的副本时,同一个对象会被添加到ArrayList中的不同位置。而当你对其中一个对象进行更改时,因为同一个副本被反复添加,所有的副本都会受到影响。例如,假设你有一个像这样的ArrayList。</target>
        </trans-unit>
        <trans-unit id="74576fed5c59241dd0fdf64d0ca13849ca887b85" translate="yes" xml:space="preserve">
          <source>Expected:</source>
          <target state="translated">Expected:</target>
        </trans-unit>
        <trans-unit id="059c3e8cce263b2945a18ac90b2637e10a8026b1" translate="yes" xml:space="preserve">
          <source>For example:</source>
          <target state="translated">例如:</target>
        </trans-unit>
        <trans-unit id="e04504cbf410f1b73db4e3bd0af289a33450d15b" translate="yes" xml:space="preserve">
          <source>Had the same trouble with the calendar instance.</source>
          <target state="translated">在日历实例中也遇到了同样的问题。</target>
        </trans-unit>
        <trans-unit id="a164dc5e97110061226f7088a22445a145b473d1" translate="yes" xml:space="preserve">
          <source>Here &lt;code&gt;tag&lt;/code&gt; is a variable in &lt;code&gt;SomeStaticClass&lt;/code&gt; to check the validity of the above snippet; you can have some other implementation based on your use case.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;这里的&lt;/font&gt;&lt;/font&gt; &lt;code&gt;tag&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;是&lt;/font&gt;&lt;/font&gt; &lt;code&gt;SomeStaticClass&lt;/code&gt; 中的&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;一个变量，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;用于检查上述代码段的有效性；&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;您可以根据用例进行其他实现。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="1bf7e28edddd87bb2854cb1c9b8606c233a7662a" translate="yes" xml:space="preserve">
          <source>Here, the &lt;code&gt;tmp&lt;/code&gt; object was constructed outside the loop. As a result, the &lt;em&gt;same object instance&lt;/em&gt; is being added to the list three times. The instance will hold the value &lt;code&gt;2&lt;/code&gt;, because that was the value passed during the last call to &lt;code&gt;setValue()&lt;/code&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在这里，&lt;/font&gt;&lt;/font&gt; &lt;code&gt;tmp&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对象是在循环外部构造的。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;结果，&lt;/font&gt;&lt;/font&gt;&lt;em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;同一对象实例&lt;/font&gt;&lt;/font&gt;&lt;/em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;被添加到列表中三次。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;该实例将保留值&lt;/font&gt;&lt;/font&gt; &lt;code&gt;2&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，因为该值是在上次调用&lt;/font&gt;&lt;/font&gt; &lt;code&gt;setValue()&lt;/code&gt; 时&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;传递的值&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="6260e4f98729222b75c93b6888d43f8a0cda3c03" translate="yes" xml:space="preserve">
          <source>I'm adding three different objects to an ArrayList, but the list contains three copies of the last object I added.</source>
          <target state="translated">我在一个ArrayList中添加了三个不同的对象,但是这个列表包含了我添加的最后一个对象的三个副本。</target>
        </trans-unit>
        <trans-unit id="9bc82f4545e0e39f2c25192e8d2b987b73c39ecd" translate="yes" xml:space="preserve">
          <source>If the objects in your list store data in static fields, each object in your list will appear to be the same because they hold the same values. Consider the class below:</source>
          <target state="translated">如果你的列表中的对象在静态字段中存储数据,那么你的列表中的每个对象看起来都是一样的,因为它们持有相同的值。考虑下图中的类。</target>
        </trans-unit>
        <trans-unit id="963855ddabf2578348150a2bd8d3a18059a2d35c" translate="yes" xml:space="preserve">
          <source>If you add a temporary variable to a list, you must create a new instance of the object you are adding, each time you loop. Consider the following erroneous code snippet:</source>
          <target state="translated">如果你在列表中添加了一个临时变量,你必须在每次循环时创建一个新的对象实例。考虑一下下面这个错误的代码片段。</target>
        </trans-unit>
        <trans-unit id="79ee3afd0b2d7475bc3129ad8d933e773b08cd0f" translate="yes" xml:space="preserve">
          <source>If you add multiple &lt;code&gt;Foo&lt;/code&gt; objects to a list using the code below, each instance will return &lt;code&gt;3&lt;/code&gt; from a call to &lt;code&gt;getValue()&lt;/code&gt;:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;使用以下代码&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;将多个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Foo&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对象&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;添加&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;到列表中，则每个实例将从&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对&lt;/font&gt; &lt;code&gt;getValue()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;的调用中&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;返回&lt;/font&gt;&lt;/font&gt; &lt;code&gt;3&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;：&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="d9615fa8d648a2eddd9a111254862988f077cd27" translate="yes" xml:space="preserve">
          <source>In that example, there is only one &lt;code&gt;int value&lt;/code&gt; which is shared between all instances of &lt;code&gt;Foo&lt;/code&gt; because it is declared &lt;code&gt;static&lt;/code&gt;. (See &lt;a href=&quot;https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html&quot;&gt;&lt;em&gt;&quot;Understanding Class Members&quot;&lt;/em&gt;&lt;/a&gt; tutorial.)</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在该示例中，只有一个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;int value&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Foo&lt;/code&gt; 的&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;所有实例之间共享，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;因为它被声明为&lt;/font&gt;&lt;/font&gt; &lt;code&gt;static&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;（请参阅&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html&quot;&gt;&lt;em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&amp;ldquo;了解班级成员&amp;rdquo;&lt;/font&gt;&lt;/font&gt;&lt;/em&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;教程。）&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="c042f3d9b71b32db250543be269d410c99d13527" translate="yes" xml:space="preserve">
          <source>Instead of:</source>
          <target state="translated">而不是:</target>
        </trans-unit>
        <trans-unit id="51ba506c062290a01ce2bbf0204d28f9b1818bd9" translate="yes" xml:space="preserve">
          <source>Now if you add this Card c to list, it will be added no problem. It will be saved at location 0. But, when you save the same Card c in the list, it will be saved at location 1. So remember that you added same 1 object to two different locations in a list. Now if you make a change that Card object c, the objects in a list at location 0 and 1 will also reflect that change, because they are the same object.</source>
          <target state="translated">现在,如果你把这张卡c添加到列表中,它将被添加到列表中,它将被保存在0的位置。但是,当你在列表中保存同一个Card c时,它将被保存在1的位置。所以请记住,你把同一个1对象添加到列表中的两个不同位置。现在,如果你对卡片对象c做了一个改变,在列表中的位置0和1的对象也会反映出这个改变,因为它们是同一个对象。</target>
        </trans-unit>
        <trans-unit id="17094f7f61e4c11ad76ff0043c2855a1dd6a5d16" translate="yes" xml:space="preserve">
          <source>One solution would be to make a constructor in Card class, that accepts another Card object. Then in that constructor, you can set the properties like this:</source>
          <target state="translated">一个解决方案是在Card类中创建一个构造函数,接受另一个Card对象。然后在这个构造函数中,你可以这样设置属性。</target>
        </trans-unit>
        <trans-unit id="cfec53f89c5df7813ceb2737ce7bfbcd71f71554" translate="yes" xml:space="preserve">
          <source>Static Fields</source>
          <target state="translated">静态领域</target>
        </trans-unit>
        <trans-unit id="e6d1e30cf1e7d7afaf5627378a599d62f238be08" translate="yes" xml:space="preserve">
          <source>Static fields used by the objects you stored in the list</source>
          <target state="translated">列表中存储的对象使用的静态字段</target>
        </trans-unit>
        <trans-unit id="5fd1fc55b78ae14ddced57c0ed2baa3f0a0bc763" translate="yes" xml:space="preserve">
          <source>The solution is simple - don't use the &lt;code&gt;static&lt;/code&gt; keywords for fields in your class unless you actually want the values shared between every instance of that class.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;解决方案很简单- &lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;除非您确实希望在该类的每个实例之间共享值，否则&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;不要&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对类中的字段&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;使用&lt;/font&gt;&lt;/font&gt; &lt;code&gt;static&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;关键字。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="e5d9ef4df74620d5d27c05abbb35d680a337f3ac" translate="yes" xml:space="preserve">
          <source>This problem has two typical causes:</source>
          <target state="translated">这个问题有两个典型的原因。</target>
        </trans-unit>
        <trans-unit id="44fba459b051de46310fec2618bd5f80b8b6cb25" translate="yes" xml:space="preserve">
          <source>To fix this, just move the object construction inside the loop:</source>
          <target state="translated">要解决这个问题,只需在循环内移动对象构造即可。</target>
        </trans-unit>
        <trans-unit id="a8b991f858449ed91ea2b977b08959ce649de225" translate="yes" xml:space="preserve">
          <source>What mistake have I made?</source>
          <target state="translated">我犯了什么错误?</target>
        </trans-unit>
        <trans-unit id="cb0ccb45d0eb79518d4e897b20d512798f03f1bb" translate="yes" xml:space="preserve">
          <source>Why does my ArrayList contain N copies of the last item added to the list</source>
          <target state="translated">为什么我的ArrayList包含了N个添加到列表中的最后一个项目的副本?</target>
        </trans-unit>
        <trans-unit id="b2bf87241b997e74efb9fb11f7471ff4c95a7d49" translate="yes" xml:space="preserve">
          <source>Wrong code:</source>
          <target state="translated">错误的代码。</target>
        </trans-unit>
        <trans-unit id="4bc1f0f02409aeba34ebf8e8d441033405280bd4" translate="yes" xml:space="preserve">
          <source>You have to create a NEW object of the calendar, which can be done with &lt;code&gt;calendar.clone()&lt;/code&gt;;</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;您必须创建日历的NEW对象，可以使用&lt;/font&gt;&lt;/font&gt; &lt;code&gt;calendar.clone()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;完成此操作&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="e25267bcfc412dca8e92a1098bfa1b2f36e61a76" translate="yes" xml:space="preserve">
          <source>Your problem is with the type &lt;code&gt;static&lt;/code&gt; which requires a new initialization every time a loop is iterated. If you are in a loop it is better to keep the concrete initialization inside the loop.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;您的问题是&lt;/font&gt;&lt;/font&gt; &lt;code&gt;static&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;类型&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，每次循环时都需要进行新的初始化。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果您处于循环中，则最好将具体的初始化保留在循环中。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>
