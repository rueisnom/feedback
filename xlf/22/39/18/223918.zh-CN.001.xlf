<?xml version="1.0" encoding="utf-8"?>
<xliff xmlns="urn:oasis:names:tc:xliff:document:1.2" version="1.2">
  <file source-language="en" target-language="zh-CN" datatype="htmlbody" original="https://stackoverflow.com/questions/223918">
    <body>
      <group id="223918">
        <trans-unit id="25c1bdbd1e60d16303ea5b7fc96f0109b6537095" translate="yes" xml:space="preserve">
          <source>&lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html&quot;&gt;ConcurrentHashMap&lt;/a&gt; or &lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html&quot;&gt;ConcurrentLinkedQueue&lt;/a&gt; or &lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListMap.html&quot;&gt;ConcurrentSkipListMap&lt;/a&gt; may be another option, because they will never throw any ConcurrentModificationException, even if you remove or add item.</source>
          <target state="translated">&lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;ConcurrentHashMap&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;或&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;ConcurrentLinkedQueue&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;或&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListMap.html&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;ConcurrentSkipListMap&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;可能是另一个选择，因为即使您删除或添加项目，它们也不会抛出任何ConcurrentModificationException。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="37dd15e7de043bb44da61c0fb85dcf1e45d05868" translate="yes" xml:space="preserve">
          <source>&lt;a href=&quot;https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html#remove--&quot;&gt;&lt;code&gt;Iterator.remove()&lt;/code&gt;&lt;/a&gt; is safe, you can use it like this:</source>
          <target state="translated">&lt;a href=&quot;https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html#remove--&quot;&gt; &lt;code&gt;Iterator.remove()&lt;/code&gt; &lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;是安全的，可以像这样使用它：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="27eebb02e9bd247039428e2c54bbded70636302d" translate="yes" xml:space="preserve">
          <source>&lt;em&gt;&quot;create a second empty-array and add only the ones you want to keep&quot;&lt;/em&gt;</source>
          <target state="translated">&lt;em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&amp;ldquo;创建第二个空数组，并仅添加要保留的数组&amp;rdquo;&lt;/font&gt;&lt;/font&gt;&lt;/em&gt;</target>
        </trans-unit>
        <trans-unit id="0e49b7ca40445135d9041e2c7f6c1c9aa2b3aeab" translate="yes" xml:space="preserve">
          <source>&lt;em&gt;No ConcurrentModificationException from that code.&lt;/em&gt;</source>
          <target state="translated">&lt;em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;该代码没有ConcurrentModificationException。&lt;/font&gt;&lt;/font&gt;&lt;/em&gt;</target>
        </trans-unit>
        <trans-unit id="6b4117debb7006643290f86f5c25c3f45288d050" translate="yes" xml:space="preserve">
          <source>&lt;strong&gt;*Update: See comments below that clarify the analogous is also achievable with the &lt;em&gt;traditional&lt;/em&gt;-for-loop.&lt;/strong&gt;</source>
          <target state="translated">&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;*更新：请参见下面的注释，以澄清类似情况也可以通过&lt;/font&gt;&lt;/font&gt;&lt;em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;传统的&lt;/font&gt;&lt;/font&gt;&lt;/em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt; -for循环实现。&lt;/font&gt;&lt;/font&gt;&lt;/strong&gt;</target>
        </trans-unit>
        <trans-unit id="a47c1231a9a594670809e8996972952ec3ee73a2" translate="yes" xml:space="preserve">
          <source>&lt;strong&gt;Note:&lt;/strong&gt; I am a committer for &lt;a href=&quot;https://www.eclipse.org/collections/&quot;&gt;Eclipse Collections&lt;/a&gt;.</source>
          <target state="translated">&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;注意：&lt;/font&gt;&lt;/font&gt;&lt;/strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;我是&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://www.eclipse.org/collections/&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;Eclipse Collections&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;的提交者&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="f16a06f173b329d12f62523e93b7fe30e59ad5b1" translate="yes" xml:space="preserve">
          <source>&lt;sub&gt;I don't remeber where I read this from... for justiness I will make this wiki in hope someone finds it or just to don't earn rep I don't deserve.&lt;/sub&gt;</source>
          <target state="translated">&lt;sub&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;我不记得我从哪里读来的&amp;hellip;&amp;hellip;出于公正的考虑，我将制作此Wiki，以希望有人找到它或只是不赚我不配的代表。&lt;/font&gt;&lt;/font&gt;&lt;/sub&gt;</target>
        </trans-unit>
        <trans-unit id="c6b47de0119244aa58d8a40c9efa66253d8b9c4a" translate="yes" xml:space="preserve">
          <source>A &lt;code&gt;ListIterator&lt;/code&gt; allows you to add or remove items in the list.  Suppose you have a list of &lt;code&gt;Car&lt;/code&gt; objects:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;一个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;ListIterator&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;允许您在列表中添加或删除项目。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;假设您有一个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Car&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对象&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;列表&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="c4e2a12d172a3b9d56f8c352c88e1e54691a60d3" translate="yes" xml:space="preserve">
          <source>And similarly, if you have a &lt;code&gt;ListIterator&lt;/code&gt; and want to &lt;em&gt;add&lt;/em&gt; items, you can use &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html#add-E-&quot;&gt;&lt;code&gt;ListIterator#add&lt;/code&gt;&lt;/a&gt;, for the same reason you can use &lt;code&gt;Iterator#remove&lt;/code&gt;&amp;nbsp;&amp;mdash; it's designed to allow it.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;同样，如果您有&lt;/font&gt;&lt;/font&gt; &lt;code&gt;ListIterator&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;并想要&lt;/font&gt;&lt;/font&gt;&lt;em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;添加&lt;/font&gt;&lt;/font&gt;&lt;/em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;项目，则可以使用&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;http://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html#add-E-&quot;&gt; &lt;code&gt;ListIterator#add&lt;/code&gt; &lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，出于相同的原因，您可以使用&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Iterator#remove&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt; &amp;nbsp;－它是允许的。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="b755ca514438cb0d48c56453fa75202aa9ae8d30" translate="yes" xml:space="preserve">
          <source>Another way is to create a copy of your arrayList:</source>
          <target state="translated">另一种方法是为你的arrayList创建一个副本。</target>
        </trans-unit>
        <trans-unit id="ad2912269ef164a84c5760332ee34935da98a920" translate="yes" xml:space="preserve">
          <source>Apologies if this answer is a somewhat specialist use-case and more suited to the original &lt;a href=&quot;https://stackoverflow.com/questions/1110404/remove-elements-from-a-hashset-while-iterating&quot;&gt;thread&lt;/a&gt; I arrived here from, that one is marked as a duplicate (despite this thread appearing more nuanced) of this and locked.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;抱歉，如果此答案是某种专业的用例，并且更适合于&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;我从此处到达&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;的原始&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/questions/1110404/remove-elements-from-a-hashset-while-iterating&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;线程&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，则将该标记为该线程的副本（尽管此线程看起来更细微）并被锁定。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="0e0019bfa1dfacd983e6c6d72268478221804c54" translate="yes" xml:space="preserve">
          <source>But this apparently works sometimes, but not always. Here's some specific code:</source>
          <target state="translated">但这显然有时会起作用,但不一定。下面是一些具体的代码。</target>
        </trans-unit>
        <trans-unit id="33224c361c9a7c3bd3d441c33da01cd6061e3422" translate="yes" xml:space="preserve">
          <source>Cheers!</source>
          <target state="translated">Cheers!</target>
        </trans-unit>
        <trans-unit id="11774966f88779a2c1411c34f94d98278ff68800" translate="yes" xml:space="preserve">
          <source>Even though multiple threads aren't doing it. Anyway.</source>
          <target state="translated">即使多线程不做。总之。</target>
        </trans-unit>
        <trans-unit id="b1d833dbfe90fd5d2037d02866dcb0d92d3ca942" translate="yes" xml:space="preserve">
          <source>Every collection class has a private class which implements the Iterator interface and provides methods like &lt;code&gt;next()&lt;/code&gt;, &lt;code&gt;remove()&lt;/code&gt; and &lt;code&gt;hasNext()&lt;/code&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;每个集合类都有一个私有类，该类实现Iterator接口，并提供诸如&lt;/font&gt;&lt;/font&gt; &lt;code&gt;next()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，&lt;/font&gt;&lt;/font&gt; &lt;code&gt;remove()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;和&lt;/font&gt;&lt;/font&gt; &lt;code&gt;hasNext()&lt;/code&gt; 之类的方法&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="455db0a3d33ac0bcdc0a398942bb9c2551ed9e84" translate="yes" xml:space="preserve">
          <source>Example of thread safe collection modification:</source>
          <target state="translated">线程安全收集修改体例。</target>
        </trans-unit>
        <trans-unit id="827533f871708ef3179f42af162980e7ffcc81e3" translate="yes" xml:space="preserve">
          <source>FWIW we also see &lt;code&gt;get&lt;/code&gt; being called on &lt;code&gt;list&lt;/code&gt;, which could not be done if its reference was just &lt;code&gt;Collection&lt;/code&gt; (instead of the more specific &lt;code&gt;List&lt;/code&gt;-type of &lt;code&gt;Collection&lt;/code&gt;) - &lt;code&gt;List&lt;/code&gt; interface includes &lt;code&gt;get&lt;/code&gt;, but &lt;code&gt;Collection&lt;/code&gt; interface does not.  If not for that difference, then the &lt;code&gt;list&lt;/code&gt; reference could instead be a &lt;code&gt;Collection&lt;/code&gt; [and therefore technically this Answer would then be a direct Answer, instead of a tangential Answer].</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;FWIW我们还看到&lt;/font&gt;&lt;/font&gt; &lt;code&gt;get&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在&lt;/font&gt;&lt;/font&gt; &lt;code&gt;list&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;上被调用&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，如果其引用只是&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Collection&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;（而不是更具体&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;的&lt;/font&gt; &lt;code&gt;Collection&lt;/code&gt; 的&lt;/font&gt; &lt;code&gt;List&lt;/code&gt; -&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt; type &lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;）&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;则无法完成&lt;/font&gt; &lt;code&gt;List&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;接口包括&lt;/font&gt; &lt;code&gt;get&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;，但&lt;/font&gt; &lt;code&gt;Collection&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;接口没有。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果不是由于这种差异，则&lt;/font&gt; &lt;code&gt;list&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;引用可以改为&lt;/font&gt; &lt;code&gt;Collection&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;（因此，从技术上讲，此答案然后将是直接答案，而不是切向答案）。&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="54d2f9c62b91d2420184db663e3ef63a9b636b8c" translate="yes" xml:space="preserve">
          <source>FWIWW same code still works after modified to start at beginning at stop at every element (just like &lt;code&gt;Iterator&lt;/code&gt; order):</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;FWIWW相同的代码经过修改后仍可以在每个元素的起点处开始工作（就像&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Iterator&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;顺序一样）：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="ab2ef992e0c21874b5b8bc959358da38ec56c004" translate="yes" xml:space="preserve">
          <source>Here the method &lt;code&gt;checkForComodification&lt;/code&gt; is implemented as</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在这里，方法&lt;/font&gt;&lt;/font&gt; &lt;code&gt;checkForComodification&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;被实现为&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="0435fd3a43eb2abe662dfebfb26af5586827a373" translate="yes" xml:space="preserve">
          <source>I assumed that since a foreach loop is syntactic sugar for iterating, using an iterator wouldn't help... but it gives you this &lt;code&gt;.remove()&lt;/code&gt; functionality.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;我假设因为foreach循环是用于迭代的语法糖，所以使用迭代器无济于事...但是它为您提供了&lt;/font&gt;&lt;/font&gt; &lt;code&gt;.remove()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;功能。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="61c39740c5331b8da6dfb89ceed2914dbda5f20d" translate="yes" xml:space="preserve">
          <source>I have a suggestion for the problem above. No need of secondary list or any extra time. Please find an example which would do the same stuff but in a different way.</source>
          <target state="translated">对于上面的问题,我有一个建议。不需要辅助列表或任何额外的时间。请找一个例子来做同样的事情,但方式不同。</target>
        </trans-unit>
        <trans-unit id="d2203736ccede89c78994f3ec955de5036a8fbee" translate="yes" xml:space="preserve">
          <source>I know this question assumes just a &lt;code&gt;Collection&lt;/code&gt;, and not more specifically any &lt;code&gt;List&lt;/code&gt;.  But &lt;strong&gt;for those reading this question who are indeed working with a &lt;code&gt;List&lt;/code&gt; reference, you can avoid &lt;code&gt;ConcurrentModificationException&lt;/code&gt; with a &lt;code&gt;while&lt;/code&gt;-loop (while modifying within it) instead if you want to avoid &lt;code&gt;Iterator&lt;/code&gt;&lt;/strong&gt; (either if you want to avoid it in general, or avoid it specifically to achieve a looping order different from start-to-end stopping at each element [which I believe is the only order &lt;code&gt;Iterator&lt;/code&gt; itself can do]):</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;我知道这个问题只是假设一个&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Collection&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，而不是&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;假设&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;任何&lt;/font&gt;&lt;/font&gt; &lt;code&gt;List&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;但是&lt;/font&gt;&lt;/font&gt;&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对于那些确实在使用&lt;/font&gt;&lt;/font&gt; &lt;code&gt;List&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;引用的&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;问题阅读者&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，可以避免&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;使用&lt;/font&gt; &lt;code&gt;while&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt; -loop（在其中进行修改）时&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;避免&lt;/font&gt;&lt;/font&gt; &lt;code&gt;ConcurrentModificationException&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;而&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;要避免使用&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Iterator&lt;/code&gt; &lt;/strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;（可以避免一般情况下使用，或者避免使用&lt;/font&gt;&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;Iterator）&lt;/font&gt;&lt;/strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;它专门用于实现不同于在每个元素上从头到尾停止的循环顺序（我相信这是&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Iterator&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;本身&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;唯一&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;可以执行的&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;顺序&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;））：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="2d257b24d1ccbe522bf6ef0ff8e0a96a877501a7" translate="yes" xml:space="preserve">
          <source>I know this question is too old to be about Java 8, but for those using Java 8 you can easily use removeIf():</source>
          <target state="translated">我知道这个问题太老了,但对于使用Java 8的人来说,你可以很容易地使用 removeIf()。</target>
        </trans-unit>
        <trans-unit id="5b480af3bf6ef711bfe8c03b813b3687e69745f3" translate="yes" xml:space="preserve">
          <source>I'm also using an arbitrary &lt;code&gt;Collection&lt;/code&gt; here, not necessarily an &lt;code&gt;ArrayList&lt;/code&gt;, so you can't rely on &lt;code&gt;get&lt;/code&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;我还在&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;这里&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;使用任意&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Collection&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，不一定是&lt;/font&gt;&lt;/font&gt; &lt;code&gt;ArrayList&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，所以您不能依赖&lt;/font&gt;&lt;/font&gt; &lt;code&gt;get&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="3ca147b034cab9a2e388f4d22a88bd4c2c898b4b" translate="yes" xml:space="preserve">
          <source>In case &lt;strong&gt;ArrayList:remove(int index)&lt;/strong&gt;- if(index is last element's position) it avoids without &lt;code&gt;System.arraycopy()&lt;/code&gt; and takes not time for this.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果&lt;/font&gt;&lt;/font&gt;&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;ArrayList：remove（int index）&lt;/font&gt;&lt;/font&gt;&lt;/strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt; &lt;code&gt;System.arraycopy()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt; index是最后一个元素的位置），则在没有&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;System.arraycopy（）的&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;情况下可以避免，并且无需&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;花费时间。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="43dcc9413cba8168bb8536731a3b38109d8ee7a5" translate="yes" xml:space="preserve">
          <source>In such cases a common trick is (was?) to go backwards:</source>
          <target state="translated">在这种情况下,常见的伎俩是(曾经?</target>
        </trans-unit>
        <trans-unit id="9b67d5f17bb080423bc2856b1b3d20910f69b328" translate="yes" xml:space="preserve">
          <source>In your case you tried to remove from a list, but the same restriction applies if trying to &lt;code&gt;put&lt;/code&gt; into a &lt;code&gt;Map&lt;/code&gt; while iterating its content.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;你的情况，你想从列表中删除，但同样的限制，如果试图&lt;/font&gt;&lt;/font&gt; &lt;code&gt;put&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;成&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Map&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，而迭代其内容。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="18c9ef3a8f0f5a41fcef3a0058efcc8953e42f38" translate="yes" xml:space="preserve">
          <source>It isn't that you can't remove from the iterated &lt;code&gt;Colletion&lt;/code&gt; rather that you can't then continue iteration once you do. Hence the &lt;code&gt;break&lt;/code&gt; in the code above.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;不是您不能从迭代&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Colletion&lt;/code&gt; 中&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;删除，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;而是一旦完成就不能继续迭代。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;因此，&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;上面的代码&lt;/font&gt;&lt;/font&gt; &lt;code&gt;break&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;了。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="05973a2f588ec64ed4dc771ca61635057f65befe" translate="yes" xml:space="preserve">
          <source>Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop</source>
          <target state="translated">通过一个集合进行迭代,避免在循环中删除对象时出现ConcurrentModificationException。</target>
        </trans-unit>
        <trans-unit id="06414a722a7bc04e97883ab9bceecdaff937fd6a" translate="yes" xml:space="preserve">
          <source>Make a copy of existing list and iterate over new copy.</source>
          <target state="translated">对现有的清单进行复制,并在新的副本上进行迭代。</target>
        </trans-unit>
        <trans-unit id="e98f94151c8d9206924eb80923448b506a29bbc9" translate="yes" xml:space="preserve">
          <source>Note that &lt;a href=&quot;https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html#remove--&quot;&gt;&lt;code&gt;Iterator.remove()&lt;/code&gt;&lt;/a&gt; is the only safe way to modify a collection during iteration; the behavior is unspecified if the underlying collection is modified &lt;strong&gt;in any other way&lt;/strong&gt; while the iteration is in progress.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;注意，&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html#remove--&quot;&gt; &lt;code&gt;Iterator.remove()&lt;/code&gt; &lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;是在迭代过程中修改集合的唯一安全方法。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;如果&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在进行迭代时&lt;/font&gt;&lt;/font&gt;&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;以任何其他方式&lt;/font&gt;&lt;/font&gt;&lt;/strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;修改基础集合，则行为未指定&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="822a442036c3118486cd1294375a6badd36b525a" translate="yes" xml:space="preserve">
          <source>One solution could be to rotate the list and remove the first element to avoid the ConcurrentModificationException or IndexOutOfBoundsException</source>
          <target state="translated">一个解决方案是旋转列表并删除第一个元素,以避免出现ConcurrentModificationException或IndexOutOfBoundsException。</target>
        </trans-unit>
        <trans-unit id="cace8bd4ed9ef2c381f7084144f3a9ee81f9650a" translate="yes" xml:space="preserve">
          <source>People are asserting one &lt;strong&gt;can't&lt;/strong&gt; remove from a Collection being iterated by a foreach loop. I just wanted to point out that is &lt;em&gt;technically&lt;/em&gt; incorrect and describe exactly (I know the OP's question is so advanced as to obviate knowing this) the code behind that assumption:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;人们断言&lt;/font&gt;&lt;/font&gt;&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;不能&lt;/font&gt;&lt;/font&gt;&lt;/strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;从被foreach循环迭代的Collection中删除。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;我只是想指出这在&lt;/font&gt;&lt;/font&gt;&lt;em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;技术上&lt;/font&gt;&lt;/font&gt;&lt;/em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;是&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;不正确的，并准确地描述了该假设背后的代码（我知道OP的问题如此先进，以至于不知道这一点）。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="113a9cab3360662c17e5ee10c3bfe3d378f0ff19" translate="yes" xml:space="preserve">
          <source>Same answer as &lt;a href=&quot;https://stackoverflow.com/a/223927/1433392&quot;&gt;Claudius&lt;/a&gt; with a for loop:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;与&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://stackoverflow.com/a/223927/1433392&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;Claudius&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;相同的答案&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;带有for循环：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="ad720fc29a4be3c21f150b3b6cd3cd9eb3f68ac8" translate="yes" xml:space="preserve">
          <source>Since the question has been already answered i.e. the best way is to use the remove method of the iterator object, I would go into the specifics of the place where the error &lt;code&gt;&quot;java.util.ConcurrentModificationException&quot;&lt;/code&gt; is thrown.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;由于问题已经得到解决，即最好的方法是使用迭代器对象的remove方法，因此我将详细介绍&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;引发&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;错误&lt;/font&gt;&lt;/font&gt; &lt;code&gt;&quot;java.util.ConcurrentModificationException&quot;&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;位置。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="a80827d9fe869a99ef1572377536fa7c363cb17c" translate="yes" xml:space="preserve">
          <source>So, as you can see, if you explicitly try to remove an element from the collection. It results in &lt;code&gt;modCount&lt;/code&gt; getting different from &lt;code&gt;expectedModCount&lt;/code&gt;, resulting in the exception &lt;code&gt;ConcurrentModificationException&lt;/code&gt;.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;因此，如您所见，如果您明确尝试从集合中删除一个元素。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;它导致&lt;/font&gt;&lt;/font&gt; &lt;code&gt;modCount&lt;/code&gt; 的&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;获得不同于&lt;/font&gt;&lt;/font&gt; &lt;code&gt;expectedModCount&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，导致异常&lt;/font&gt;&lt;/font&gt; &lt;code&gt;ConcurrentModificationException&lt;/code&gt; 的&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="7e60aa6a8f76865cde56c5e2cb96a72f7e28639e" translate="yes" xml:space="preserve">
          <source>Source:&lt;a href=&quot;http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html&quot;&gt; docs.oracle &amp;gt; The Collection Interface&lt;/a&gt;</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;来源：&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;docs.oracle&amp;gt;收集接口&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;</target>
        </trans-unit>
        <trans-unit id="9587bb74b82c63664c83e443f0a6c36fa8fdcbe7" translate="yes" xml:space="preserve">
          <source>That said, I'm more than happy that you have better ways in Java 8, e.g. &lt;code&gt;removeIf&lt;/code&gt; or &lt;code&gt;filter&lt;/code&gt; on streams.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;就是说，我很高兴您在Java 8中拥有更好的方法，例如&lt;/font&gt;&lt;/font&gt; &lt;code&gt;removeIf&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;或&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对流进行&lt;/font&gt;&lt;/font&gt; &lt;code&gt;filter&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="2582f20341bbeb660164e9bfb66e7dbf3c76b0fb" translate="yes" xml:space="preserve">
          <source>The Best way(Recommended) is use of java.util.Concurrent package . By
  using this package you can easily avoid this Exception .  refer
  Modified Code</source>
          <target state="translated">最好的方法(推荐)是使用java.utilite.Concurrent包。通过使用这个包,你可以轻松地避免这个异常。</target>
        </trans-unit>
        <trans-unit id="0005fd83ca1a1557621da899e6018a1f492207b6" translate="yes" xml:space="preserve">
          <source>The call to &lt;code&gt;Predicates.cast()&lt;/code&gt; is necessary here because a default &lt;code&gt;removeIf&lt;/code&gt; method was added on the &lt;code&gt;java.util.Collection&lt;/code&gt; interface in Java 8.</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;这里必须调用&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Predicates.cast()&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，因为&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在Java 8 &lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;的&lt;/font&gt; &lt;code&gt;java.util.Collection&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;接口&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;上添加&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;了默认的&lt;/font&gt;&lt;/font&gt; &lt;code&gt;removeIf&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;方法&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="8436bfb245e088f6c46c6afb1f7f7cc9dbb49b07" translate="yes" xml:space="preserve">
          <source>The catch is the after removing the element from the list if you skip the internal iterator.next() call. it still works! Though I dont propose to write code like this it helps to understand the concept behind it :-)</source>
          <target state="translated">陷阱是在从列表中删除元素后,如果你跳过内部的迭代器.next()调用,它仍然有效。虽然我不建议写这样的代码,但它有助于理解背后的概念:-)</target>
        </trans-unit>
        <trans-unit id="d0a37b5e11021c83936292e45f9c29d8004608bd" translate="yes" xml:space="preserve">
          <source>The code for next looks something like this...</source>
          <target state="translated">接下来的代码看起来是这样的......</target>
        </trans-unit>
        <trans-unit id="83e3d570926657b6a4bbf5768dac16911df5b63c" translate="yes" xml:space="preserve">
          <source>There we see looping not start at the beginning, and not stop at &lt;em&gt;every&lt;/em&gt; element (which I believe &lt;code&gt;Iterator&lt;/code&gt; itself can't do).</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在这里，我们看到循环不是从头开始，也不是在&lt;/font&gt;&lt;/font&gt;&lt;em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;每个&lt;/font&gt;&lt;/font&gt;&lt;/em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;元素&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;上&lt;/font&gt;&lt;em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;都&lt;/font&gt;&lt;/em&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;停止&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;（我相信&lt;/font&gt;&lt;/font&gt; &lt;code&gt;Iterator&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;本身不能做到）。&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="a9ae4006317b94bfaa968ed593d618d9dbca367b" translate="yes" xml:space="preserve">
          <source>This works:</source>
          <target state="translated">这个可以用。</target>
        </trans-unit>
        <trans-unit id="b542593165678bce4e6f53367258af5d5e1996de" translate="yes" xml:space="preserve">
          <source>This would avoid the Concurrency Exception.</source>
          <target state="translated">这样就可以避免并发异常情况的出现。</target>
        </trans-unit>
        <trans-unit id="3f9e73dd4c273ebb73ae5b897929c6269955bda6" translate="yes" xml:space="preserve">
          <source>This, of course, results in:</source>
          <target state="translated">当然,这样做的结果是:</target>
        </trans-unit>
        <trans-unit id="7186bea14e961fb00e82e29fc72cdb66dc5910eb" translate="yes" xml:space="preserve">
          <source>Try this one (removes all elements in the list that equal &lt;code&gt;i&lt;/code&gt;):</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;尝试这一步（删除列表中等于&lt;/font&gt;&lt;/font&gt; &lt;code&gt;i&lt;/code&gt; 的&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;所有元素&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;）：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="93af7f583940a3ced1b53d6ccda14274a9932d61" translate="yes" xml:space="preserve">
          <source>We all know you can't do the following because of &lt;code&gt;ConcurrentModificationException&lt;/code&gt;:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;我们都知道，由于&lt;/font&gt;&lt;/font&gt; &lt;code&gt;ConcurrentModificationException&lt;/code&gt; ,&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;您无法执行以下操作&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="e44a2d14040a23d99e235708ee9c7cfed3db9e81" translate="yes" xml:space="preserve">
          <source>What's the best solution to this problem? How can I remove an item from the collection in a loop without throwing this exception?</source>
          <target state="translated">有什么好的办法解决这个问题?如何在循环中从集合中删除一个项而不抛出这个异常?</target>
        </trans-unit>
        <trans-unit id="08091f2aa2fe3f5050283f640044ef31af95fed1" translate="yes" xml:space="preserve">
          <source>With &lt;a href=&quot;https://www.eclipse.org/collections/&quot;&gt;Eclipse Collections&lt;/a&gt;, the method &lt;code&gt;removeIf&lt;/code&gt; defined on &lt;a href=&quot;https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/collection/MutableCollection.java#L236&quot;&gt;MutableCollection&lt;/a&gt; will work:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对于&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://www.eclipse.org/collections/&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;Eclipse Collections&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;，在&lt;/font&gt;&lt;/font&gt; &lt;code&gt;removeIf&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;定义的&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/collection/MutableCollection.java#L236&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;removeIf&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;方法&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;将起作用：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="6c6df5cbcae2d1191d67fc99495f6e4320686eac" translate="yes" xml:space="preserve">
          <source>With Java 8 Lambda syntax this can be written as follows:</source>
          <target state="translated">使用Java 8 Lambda语法,可以写成如下所示。</target>
        </trans-unit>
        <trans-unit id="8b819b7635ab127c8833a8a7601ff87ebce0927f" translate="yes" xml:space="preserve">
          <source>With Java 8 you can use &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-&quot;&gt;the new &lt;code&gt;removeIf&lt;/code&gt; method&lt;/a&gt;. Applied to your example:</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;在Java 8中，可以使用&lt;/font&gt;&lt;/font&gt;&lt;a href=&quot;http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;新的&lt;/font&gt;&lt;/font&gt; &lt;code&gt;removeIf&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;方法&lt;/font&gt;&lt;/font&gt;&lt;/a&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;。&lt;/font&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;应用于您的示例：&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="1aaf302f615b52364b8e61a543a11181c90be8db" translate="yes" xml:space="preserve">
          <source>With a traditional for loop</source>
          <target state="translated">有了传统意义上的循环系统</target>
        </trans-unit>
        <trans-unit id="cefc0e4a72b54aa99e07f4835bd80fb0a351463a" translate="yes" xml:space="preserve">
          <source>You can either use the iterator directly like you mentioned, or else keep a second collection and add each item you want to remove to the new collection, then removeAll at the end. This allows you to keep using the type-safety of the for-each loop at the cost of increased memory use and cpu time (shouldn't be a huge problem unless you have really, really big lists or a really old computer)</source>
          <target state="translated">你可以像你提到的那样直接使用迭代器,或者保留第二个集合,把你想删除的每一个项目都添加到新的集合中,然后在最后删除All。这样可以让你继续使用for-each循环的类型安全,但代价是增加内存使用和CPU时间(除非你有非常非常大的列表或者是非常老的电脑,否则应该不是什么大问题</target>
        </trans-unit>
        <trans-unit id="98a278fa185967df115a30cf20a1aa9c25b1e130" translate="yes" xml:space="preserve">
          <source>arraycopy time increases if(index decreases), by the way elements of list also decreases!</source>
          <target state="translated">arraycopy时间增加如果(index减少),顺便说一下,列表中的元素也会减少!</target>
        </trans-unit>
        <trans-unit id="24f17a390e3b91adef2b10b41c6c1da8022ba1c9" translate="yes" xml:space="preserve">
          <source>for desc index: &lt;strong&gt;519&lt;/strong&gt; msec---the best</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;对于desc索引：&lt;/font&gt;&lt;/font&gt;&lt;strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;519&lt;/font&gt;&lt;/font&gt;&lt;/strong&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;毫秒---最佳&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="b3c3a59955402077cc1eb12655c494cc1ac0fe87" translate="yes" xml:space="preserve">
          <source>for index loop: 1090 msec</source>
          <target state="translated">对于索引循环。1090毫秒</target>
        </trans-unit>
        <trans-unit id="64d017c6253be47c5885716917f7ec3d5375f451" translate="yes" xml:space="preserve">
          <source>for iterator: 1043 msec</source>
          <target state="translated">为迭代器。1043毫秒</target>
        </trans-unit>
        <trans-unit id="194cc0d9ca62dadd8c53436b973c8f6b35716fca" translate="yes" xml:space="preserve">
          <source>the best effective remove way is- removing its elements in descending order:
&lt;code&gt;while(list.size()&amp;gt;0)list.remove(list.size()-1);&lt;/code&gt;//takes O(1)
&lt;code&gt;while(list.size()&amp;gt;0)list.remove(0);&lt;/code&gt;//takes O(factorial(n))</source>
          <target state="translated">&lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;最好的有效删除方法是-降序删除其元素： &lt;/font&gt;&lt;/font&gt; &lt;code&gt;while(list.size()&amp;gt;0)list.remove(list.size()-1);&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;//取O（1） &lt;/font&gt;&lt;/font&gt; &lt;code&gt;while(list.size()&amp;gt;0)list.remove(0);&lt;/code&gt; &lt;font style=&quot;vertical-align: inherit;&quot;&gt;&lt;font style=&quot;vertical-align: inherit;&quot;&gt;//取O（factor（n））&lt;/font&gt;&lt;/font&gt;</target>
        </trans-unit>
        <trans-unit id="66528cb453f9eee6681f77021da29183adfeda68" translate="yes" xml:space="preserve">
          <source>this might not be the best way, but for most of the small cases this should acceptable:</source>
          <target state="translated">这可能不是最好的方法,但对于大多数小的情况,这应该是可以接受的。</target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>
